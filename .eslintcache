[{"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\index.js":"1","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\App.js":"2","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\reportWebVitals.js":"3","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\route\\PrivateRoute.js":"4","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dashboardPage.js":"5","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterOutletPage.js":"6","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\redux\\store.js":"7","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\loginPage.js":"8","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\navbar.js":"9","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterVendorPage.js":"10","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlanPage.js":"11","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterProduksiPage.js":"12","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\produksiPage.js":"13","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterBarangPage.js":"14","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\receivePoPage.js":"15","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterRawProcessingPage.js":"16","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\planproduksiPage.js":"17","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\completionplanproduksiPage.js":"18","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\purchaseOrderPage.js":"19","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterPluPage.js":"20","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\userPage.js":"21","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\testReport.js":"22","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\reportPage.js":"23","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\inventory.js":"24","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\deliveryOrderPage.js":"25","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\orderPage.js":"26","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlanPrint.js":"27","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productionPlanPrint.js":"28","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\purchaseOrderPrint.js":"29","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\transferOutPage.js":"30","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\deliveryOrderPrint.js":"31","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\stockReconciliationPage.js":"32","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\transferInPage.js":"33","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\pembelianPage.js":"34","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\prepareDeliveryOrderPrint.js":"35","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\main.js":"36","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterOutlet.js":"37","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\produksi.js":"38","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterVendor.js":"39","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlan.js":"40","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterProduksi.js":"41","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterRawProcessing.js":"42","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterBarang.js":"43","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\receivepo.js":"44","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\stockReconciliation.js":"45","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dummyProductData.js":"46","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\pembelian.js":"47","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\betweenTransferIn.js":"48","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\betweenTransferOut.js":"49","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\order.js":"50","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productout.js":"51","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\report.js":"52","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\user.js":"53","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterPlu.js":"54","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productin.js":"55","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\completionplanproduksi.js":"56","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\planproduksi.js":"57","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\redux\\reducers\\index.js":"58","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dummyData.js":"59"},{"size":547,"mtime":1606779858570,"results":"60","hashOfConfig":"61"},{"size":5196,"mtime":1611817653605,"results":"62","hashOfConfig":"61"},{"size":362,"mtime":1606779082382,"results":"63","hashOfConfig":"61"},{"size":513,"mtime":1611807631796,"results":"64","hashOfConfig":"61"},{"size":326,"mtime":1597119931777,"results":"65","hashOfConfig":"61"},{"size":344,"mtime":1599018271867,"results":"66","hashOfConfig":"61"},{"size":616,"mtime":1571458820000,"results":"67","hashOfConfig":"61"},{"size":5413,"mtime":1612147793378,"results":"68","hashOfConfig":"61"},{"size":11638,"mtime":1612146966418,"results":"69","hashOfConfig":"61"},{"size":344,"mtime":1597120026970,"results":"70","hashOfConfig":"61"},{"size":373,"mtime":1601869889663,"results":"71","hashOfConfig":"61"},{"size":366,"mtime":1599189911690,"results":"72","hashOfConfig":"61"},{"size":336,"mtime":1597120409725,"results":"73","hashOfConfig":"61"},{"size":344,"mtime":1597120131991,"results":"74","hashOfConfig":"61"},{"size":341,"mtime":1597120330863,"results":"75","hashOfConfig":"61"},{"size":391,"mtime":1601610179635,"results":"76","hashOfConfig":"61"},{"size":356,"mtime":1600743748827,"results":"77","hashOfConfig":"61"},{"size":406,"mtime":1601181965141,"results":"78","hashOfConfig":"61"},{"size":357,"mtime":1597120241079,"results":"79","hashOfConfig":"61"},{"size":341,"mtime":1603206545825,"results":"80","hashOfConfig":"61"},{"size":316,"mtime":1597925714442,"results":"81","hashOfConfig":"61"},{"size":3656,"mtime":1611288124879,"results":"82","hashOfConfig":"61"},{"size":326,"mtime":1598239547932,"results":"83","hashOfConfig":"61"},{"size":1932,"mtime":1596362263540,"results":"84","hashOfConfig":"61"},{"size":358,"mtime":1597120483348,"results":"85","hashOfConfig":"61"},{"size":321,"mtime":1597138450546,"results":"86","hashOfConfig":"61"},{"size":10243,"mtime":1611819928904,"results":"87","hashOfConfig":"61"},{"size":11120,"mtime":1611819928904,"results":"88","hashOfConfig":"61"},{"size":17506,"mtime":1612278306330,"results":"89","hashOfConfig":"61"},{"size":372,"mtime":1602583649817,"results":"90","hashOfConfig":"61"},{"size":10646,"mtime":1612340944059,"results":"91","hashOfConfig":"61"},{"size":391,"mtime":1610944316671,"results":"92","hashOfConfig":"61"},{"size":367,"mtime":1602583668954,"results":"93","hashOfConfig":"61"},{"size":341,"mtime":1604334249725,"results":"94","hashOfConfig":"61"},{"size":7851,"mtime":1612340769282,"results":"95","hashOfConfig":"61"},{"size":14940,"mtime":1611819928904,"results":"96","hashOfConfig":"61"},{"size":14288,"mtime":1611819928904,"results":"97","hashOfConfig":"61"},{"size":30065,"mtime":1611819928904,"results":"98","hashOfConfig":"61"},{"size":14023,"mtime":1611819928904,"results":"99","hashOfConfig":"61"},{"size":31421,"mtime":1611819928903,"results":"100","hashOfConfig":"61"},{"size":39395,"mtime":1611819928904,"results":"101","hashOfConfig":"61"},{"size":31943,"mtime":1611819928904,"results":"102","hashOfConfig":"61"},{"size":20191,"mtime":1611819928904,"results":"103","hashOfConfig":"61"},{"size":12815,"mtime":1612282499220,"results":"104","hashOfConfig":"61"},{"size":16039,"mtime":1611819928904,"results":"105","hashOfConfig":"61"},{"size":3944,"mtime":1598603016979,"results":"106","hashOfConfig":"61"},{"size":24769,"mtime":1611819928904,"results":"107","hashOfConfig":"61"},{"size":14057,"mtime":1611819928904,"results":"108","hashOfConfig":"61"},{"size":25193,"mtime":1611819928904,"results":"109","hashOfConfig":"61"},{"size":17898,"mtime":1611819928904,"results":"110","hashOfConfig":"61"},{"size":25242,"mtime":1612339771362,"results":"111","hashOfConfig":"61"},{"size":3262,"mtime":1611288124879,"results":"112","hashOfConfig":"61"},{"size":15951,"mtime":1611819928904,"results":"113","hashOfConfig":"61"},{"size":34479,"mtime":1611819928904,"results":"114","hashOfConfig":"61"},{"size":26789,"mtime":1612277448999,"results":"115","hashOfConfig":"61"},{"size":35154,"mtime":1611819928904,"results":"116","hashOfConfig":"61"},{"size":32389,"mtime":1611819928904,"results":"117","hashOfConfig":"61"},{"size":898,"mtime":1598860315443,"results":"118","hashOfConfig":"61"},{"size":9217,"mtime":1596428179987,"results":"119","hashOfConfig":"61"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},"jykuug",{"filePath":"123","messages":"124","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"122"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"122"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"122"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"122"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"179","usedDeprecatedRules":"122"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"182","usedDeprecatedRules":"122"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":37,"fixableErrorCount":0,"fixableWarningCount":0,"source":"185","usedDeprecatedRules":"122"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"122"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"122"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"122"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"122"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208","usedDeprecatedRules":"122"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"122"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"122"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"217","usedDeprecatedRules":"122"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"220","usedDeprecatedRules":"122"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"223","usedDeprecatedRules":"122"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"226","usedDeprecatedRules":"122"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"229","usedDeprecatedRules":"122"},{"filePath":"230","messages":"231","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"232","messages":"233","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"234","usedDeprecatedRules":"122"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237","usedDeprecatedRules":"122"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"240","usedDeprecatedRules":"122"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243","usedDeprecatedRules":"122"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246","usedDeprecatedRules":"122"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"249","usedDeprecatedRules":"122"},{"filePath":"250","messages":"251","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"252","usedDeprecatedRules":"122"},{"filePath":"253","messages":"254","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"255","usedDeprecatedRules":"122"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258","usedDeprecatedRules":"122"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"261","usedDeprecatedRules":"122"},{"filePath":"262","messages":"263","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"264","usedDeprecatedRules":"122"},{"filePath":"265","messages":"266","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"267","messages":"268","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\index.js",[],["269","270"],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\App.js",["271","272","273"],"import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport \"./assets/font-awesome/css/font-awesome.min.css\";\nimport 'react-data-table-component-extensions/dist/index.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport PrivateRoute from './route/PrivateRoute';\nimport Mainpage from \"./pages/dashboardPage\";\nimport Loginpage from \"./pages/loginPage\";\nimport Navbarpage from \"./pages/navbar\";\nimport MasterBarang from \"./pages/masterBarangPage\";\nimport MasterVendor from \"./pages/masterVendorPage\";\nimport MasterOutlet from \"./pages/masterOutletPage\";\nimport InventoryPage from \"./pages/inventory\";\nimport MasterProduksiPage from \"./pages/masterProduksiPage\";\nimport MasterRawProcessingPage from \"./pages/masterRawProcessingPage\";\nimport MasterPluPage from \"./pages/masterPluPage\";\nimport ProduksiPage from \"./pages/produksiPage\";\nimport RawProsessingPage from \"./pages/rawProsessingPlanPage\";\nimport PlanproduksiPage from \"./pages/planproduksiPage\";\nimport CompletionplanproduksiPage from \"./pages/completionplanproduksiPage\";\nimport ProductinPage from \"./pages/purchaseOrderPage\";\nimport ReceivepoPage from \"./pages/receivePoPage\";\nimport ProductoutPage from \"./pages/deliveryOrderPage\";\nimport OrderPage from \"./pages/orderPage\";\nimport UserPage from \"./pages/userPage\";\nimport ReportPage from \"./pages/reportPage\";\nimport TestReport from \"./pages/testReport\";\nimport PurchaseOrderPrint from \"./pages/purchaseOrderPrint\";\nimport ProductionPlanPrint from \"./pages/productionPlanPrint\";\nimport RawProsessingPlanPrint from \"./pages/rawProsessingPlanPrint\";\nimport PrepareDeliveryOrderPrint from \"./pages/prepareDeliveryOrderPrint\";\nimport DeliveryOrderPrint from \"./pages/deliveryOrderPrint\";\nimport TransferInPage from \"./pages/transferInPage\";\nimport TransferOutPage from \"./pages/transferOutPage\";\nimport PembelianPage from \"./pages/pembelianPage\";\nimport StockReconciliationPage from \"./pages/stockReconciliationPage\";\n\nclass App extends Component {\n    componentDidMount = () =>  {\n        axios\n        .get(`${process.env.REACT_APP_LINK}`)\n        .then(async result => {\n            await localStorage.setItem(\"APIROUTE\",result.data.APIROUTE)\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n    render() {\n        return (\n            <div>\n            <Provider store={store}>\n              <Router>\n                <Switch>\n                    <Route exact path=\"/\">\n                        <Loginpage />\n                    </Route>\n                    <Route path=\"/purchaseOrderPrint\">\n                        <PurchaseOrderPrint />\n                    </Route>\n                    <Route path=\"/productionPlanPrint\">\n                        <ProductionPlanPrint />\n                    </Route>\n                    <Route path=\"/rawProsessingPlanPrint\">\n                        <RawProsessingPlanPrint />\n                    </Route>\n                    <Route path=\"/prepareDeliveryOrderPrint\">\n                        <PrepareDeliveryOrderPrint />\n                    </Route>\n                    <Route path=\"/deliveryOrderPrint\">\n                        <DeliveryOrderPrint />\n                    </Route>\n                    <PrivateRoute component={Mainpage} path=\"/home\"/>\n                    <PrivateRoute component={UserPage} path=\"/user\"/>\n                    <PrivateRoute component={MasterVendor} path=\"/mastervendor\"/>\n                    <PrivateRoute component={MasterOutlet} path=\"/masteroutlet\"/>\n                    <PrivateRoute component={MasterBarang} path=\"/masterbarang\"/>\n                    <PrivateRoute component={MasterProduksiPage} path=\"/masterproduksi\"/>\n                    <PrivateRoute component={MasterRawProcessingPage} path=\"/masterRawProcessingPage\"/>\n                    <PrivateRoute component={MasterPluPage} path=\"/masterplu\"/>\n                    <PrivateRoute component={ProductinPage} path=\"/productin\"/>\n                    <PrivateRoute component={ReceivepoPage} path=\"/receive_po\"/>\n                    <PrivateRoute component={RawProsessingPage} path=\"/rawProsessingPlan\"/>\n                    <PrivateRoute component={PlanproduksiPage} path=\"/planproduksiPage\"/>\n                    <PrivateRoute component={CompletionplanproduksiPage} path=\"/completionplanproduksiPage\"/>\n                    <PrivateRoute component={ProduksiPage} path=\"/produksi\"/>\n                    <PrivateRoute component={ProductoutPage} path=\"/productout\"/>\n                    <PrivateRoute component={ReportPage} path=\"/report\"/>\n                    <PrivateRoute component={TestReport} path=\"/testreport\"/>\n                    <PrivateRoute component={TransferInPage} path=\"/transferin\"/>\n                    <PrivateRoute component={TransferOutPage} path=\"/transferout\"/>\n                    <PrivateRoute component={PembelianPage} path=\"/pembelian\"/>\n                    <PrivateRoute component={StockReconciliationPage} path=\"/stokrecon\"/>\n                </Switch>\n              </Router>\n            </Provider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\reportWebVitals.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\route\\PrivateRoute.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dashboardPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterOutletPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\redux\\store.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\loginPage.js",["274","275","276"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  // InputGroup,\r\n  Input,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport jgLogo from '../assets/img/icon.png';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\n\r\n\r\nclass loginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        prmoverlay:false,\r\n        APIROUTE:\"\",\r\n        loginNik:\"\",\r\n        loginPass:\"\",\r\n        buttonLoginPrm:false,\r\n        buttonLoginText:\"Login\",\r\n    };\r\n  }\r\n  componentDidMount = async () =>  {\r\n    let authToken = await localStorage.getItem(\"authToken\")\r\n    authToken != null && this.props.history.push({ pathname: \"/home\" })\r\n  }\r\n  loginCheck = async () =>{\r\n    const dataToSend = {\r\n      NIK:this.state.loginNik,\r\n      PASS:this.state.loginPass\r\n    };\r\n    if(dataToSend.NIK === \"\" || dataToSend.PASS === \"\"){\r\n      alert(\"NIK dan password user tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonLoginPrm:true,\r\n        buttonLoginText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/login`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        if(result.data.status === \"00\"){\r\n          let prmNIK = result.data.nik\r\n          await this.setState({\r\n            ...this.state,\r\n            buttonLoginPrm:false,\r\n            buttonLoginText:\"Login\"\r\n          });\r\n          await localStorage.setItem(\"authToken\",prmNIK)\r\n          await localStorage.setItem(\"outletID\",\"OUT0000001\")\r\n          this.props.history.push({ pathname: \"/home\" })\r\n        } else {\r\n          this.setState({\r\n            ...this.state,\r\n            buttonLoginPrm:false,\r\n            buttonLoginText:\"Login\"\r\n          });\r\n          alert(result.data.message)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n        <div>\r\n            <div style={{visibility:this.state.prmoverlay==true?\"visible\":\"hidden\"}}>\r\n                <div className=\"overlayMask\">\r\n                    <ScaleLoader\r\n                    height={90}\r\n                    width={20}\r\n                    radius={10}\r\n                    margin={10}\r\n                    color={'#ffffff'}\r\n                    loading={this.state.prmoverlay == true?true:false}\r\n                    />\r\n                    <span style={{color:\"#ffffff\"}}>Waiting for data . . . </span>\r\n                </div>\r\n            </div>\r\n            <Container fluid={true} style={{backgroundColor:\"#003060\",height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <div className=\"card\" style={{backgroundColor:\"rgba(255, 255, 255, 0)\"}}>\r\n                    <div className=\"card-body\" style={{backgroundColor:\"rgba(255, 255, 255, 0.6)\",borderRadius:10}}>\r\n                        <Row style={{paddingTop:30,paddingBottom:30}}>\r\n                        <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                            <img className=\"portoimage\" width=\"50%\" src={jgLogo} alt=\"jgLogo\" style={{borderRadius:150}} />\r\n                        </Col>\r\n                        </Row>\r\n                        <Row>\r\n                        <Col>\r\n                            <FormGroup>\r\n                            <Label for=\"loginNik\">NIK</Label>\r\n                            <Input type=\"text\" name=\"loginNik\" id=\"loginNik\" value={this.state.loginNik} onChange={this.handleChange} placeholder=\"Input NIK\" />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                            <Label for=\"loginPass\">Password</Label>\r\n                            <Input type=\"password\" name=\"loginPass\" id=\"loginPass\" value={this.state.loginPass} onChange={this.handleChange} placeholder=\"Input Password\" />\r\n                            </FormGroup>\r\n                        </Col>\r\n                        </Row>\r\n                        <Row style={{paddingBottom:30}}>\r\n                        <Col>\r\n                            <button className=\"my-btn full-widht\" onClick={() => this.loginCheck()}>\r\n                            <ScaleLoader\r\n                                height={18}\r\n                                width={4}\r\n                                radius={2}\r\n                                margin={2}\r\n                                color={'#FFFFFF'}\r\n                                loading={this.state.buttonLoginPrm}\r\n                            />\r\n                            {this.state.buttonLoginText}\r\n                            </button>\r\n                        </Col>\r\n                        </Row>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(loginPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\navbar.js",["277","278","279","280","281","282","283","284","285","286","287","288"],"import React, { Component,useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from 'reactstrap';\r\n\r\nclass navbar extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        navCollapse:false,\r\n        fixedNav:\"\",\r\n        dropdownState:false,\r\n        testState:true,\r\n        testArray:[1,2,5,6]\r\n      };\r\n    }\r\n    componentDidMount = async () =>  {\r\n      let aksesPage = this.props.aksespage\r\n      if(aksesPage == \"\"){\r\n        let prmNIK = localStorage.getItem(\"authToken\")\r\n        const dataToSend = {\r\n          NIK: prmNIK\r\n        };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getAkses`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.props.dispatch({ type: \"SETAKSES\", payload: result.data.akses });\r\n          this.props.dispatch({ type: \"SETUSERINFO\", payload: result.data.userinfo });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          console.log(this.props);\r\n        });\r\n      }\r\n    }\r\n    navToggle = () =>  {\r\n      this.setState({\r\n        ...this.state,\r\n        navCollapse: !this.state.navCollapse\r\n      });\r\n    }\r\n    dropdownToggle = () =>  {\r\n      this.setState({\r\n        ...this.state,\r\n        dropdownState: !this.state.dropdownState\r\n      });\r\n    }\r\n    logout = async () =>{\r\n        await localStorage.removeItem(\"authToken\");\r\n        await localStorage.removeItem(\"outletID\");\r\n        await this.props.history.push({ pathname: \"/\" })\r\n        await this.props.dispatch({ type: \"SETAKSES\", payload: \"\" });\r\n        await this.props.dispatch({ type: \"SETUSERINFO\", payload: \"\" });\r\n    }\r\n    render() {\r\n        return (\r\n              <Navbar color=\"light\" light expand=\"md\" style={{position:\"sticky\",top:0,zIndex:1}}>\r\n                <NavbarBrand href=\"/home\" style={{width:\"150px\"}}>\r\n                  JAYGEEGROUP\r\n                </NavbarBrand>\r\n                <NavbarToggler onClick={() => this.navToggle()} />\r\n                <Collapse isOpen={this.state.navCollapse} navbar>\r\n                  <Nav className=\"ml-auto\" navbar>\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\" || this.props.aksespage === \"COST CONTROL\" || this.props.aksespage === \"PURCHASING\" ?\r\n                    <NavItem className={this.props.history.location.pathname==\"/home\"?\"myNavbarStyle-active\":\"myNavbarStyle\"}>\r\n                      <NavLink onClick={() =>  {this.props.history.push({pathname: \"/home\"})}}>Dashboard</NavLink>\r\n                    </NavItem>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" ?\r\n                    <NavItem className={this.props.history.location.pathname==\"/user\"?\"myNavbarStyle-active\":\"myNavbarStyle\"}>\r\n                      <NavLink onClick={() =>  {this.props.history.push({pathname: \"/user\"})}}>User Management</NavLink>\r\n                    </NavItem>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"COST CONTROL\"|| this.props.aksespage === \"PURCHASING\"?\r\n                    <UncontrolledDropdown nav inNavbar>\r\n                      <DropdownToggle nav caret className={this.props.history.location.pathname==\"/masteroutlet\"||this.props.history.location.pathname==\"/mastervendor\"||this.props.history.location.pathname==\"/masterbarang\"||this.props.history.location.pathname==\"/masterRawProcessingPage\"||this.props.history.location.pathname==\"/masterproduksi\"||this.props.history.location.pathname==\"/masterplu\"?\"myNavbarStyle-active\":\"myNavbarStyle\"}>\r\n                        Master Data\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/masteroutlet\"})}}>\r\n                          Master Outlet\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/mastervendor\"})}}>\r\n                          Master Vendor\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/masterbarang\"})}}>\r\n                          Master Barang\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/masterRawProcessingPage\"})}}>\r\n                          Master Raw Processing\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/masterproduksi\"})}}>\r\n                          Master Plan Produksi\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/masterplu\"})}}>\r\n                          Master Plu\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/stokrecon\"})}}>\r\n                            Stock Reconciliation\r\n                        </DropdownItem>\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"PURCHASING\" || this.props.aksespage === \"ADMIN\"?\r\n                    <UncontrolledDropdown nav inNavbar>\r\n                      <DropdownToggle nav caret>\r\n                        Purchase Order\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"PURCHASING\"?\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/productin\"})}}>\r\n                          Buat Purchase Order\r\n                        </DropdownItem>: \"\"\r\n                        }\r\n                        { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\"?\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/receive_po\"})}}>\r\n                          Terima Purchase Order\r\n                        </DropdownItem>: \"\"\r\n                        }\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\"?\r\n                    <UncontrolledDropdown nav inNavbar>\r\n                      <DropdownToggle nav caret>\r\n                        Delivery Order\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/productout\"})}}>\r\n                          Buat Delivery Order\r\n                        </DropdownItem>\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\" ?\r\n                    <UncontrolledDropdown nav inNavbar style={{cursor:\"pointer\",borderBottom:this.props.navState == \"betweentransfer\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <DropdownToggle nav caret>\r\n                        Between Transfer\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/transferin\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"betweentransfer\" })}}>\r\n                          Transfer In\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/transferout\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"betweentransfer\" })}}>\r\n                          Transfer Out\r\n                        </DropdownItem>\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\"?\r\n                    <UncontrolledDropdown nav inNavbar>\r\n                      <DropdownToggle nav caret>\r\n                        Raw Processing\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/rawProsessingPlan\"})}}>\r\n                          Raw Processing plan\r\n                        </DropdownItem>\r\n                        {/* <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/rawProsessingPlan\"})}}>\r\n                          Raw Processing completion\r\n                        </DropdownItem> */}\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\"?\r\n                    <UncontrolledDropdown nav inNavbar>\r\n                      <DropdownToggle nav caret>\r\n                        Production\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/planproduksiPage\"})}}>\r\n                          Production plan\r\n                        </DropdownItem>\r\n                        {/* <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/completionplanproduksiPage\"})}}>\r\n                          Production completion\r\n                        </DropdownItem> */}\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>: \"\"\r\n                    }\r\n                    { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"ADMIN\"?\r\n                    <NavItem style={{cursor:\"pointer\",borderBottom:this.props.navState == \"pembelian\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <NavLink\r\n                      onClick={() =>  {this.props.history.push({pathname: \"/pembelian\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"pembelian\" })}}\r\n                      >\r\n                        Modul Pembelian\r\n                      </NavLink>\r\n                    </NavItem>: \"\"\r\n                    }\r\n                    {/* { this.props.aksespage === \"MASTER USER\" || this.props.aksespage === \"COST CONTROL\" ?\r\n                    <NavItem style={{cursor:\"pointer\"}}>\r\n                      <NavLink onClick={() =>  {this.props.history.push({pathname: \"/report\"})}}>Report</NavLink>\r\n                    </NavItem>: \"\"\r\n                    } */}\r\n                    <NavItem style={{cursor:\"pointer\"}}>\r\n                      <NavLink onClick={() =>  this.logout()}>Log Out</NavLink>\r\n                    </NavItem>\r\n                  </Nav>\r\n                </Collapse>\r\n              </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\n// export default withRouter(navbar);\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(navbar));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterVendorPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlanPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterProduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\produksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterBarangPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\receivePoPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterRawProcessingPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\planproduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\completionplanproduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\purchaseOrderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterPluPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\userPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\testReport.js",["289","290","291","292","293","294","295","296","297","298"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport { autoTable } from \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass testReportPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      people: [\r\n        { name: \"Keanu Reeves\", profession: \"Actor\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Lionel Messi\", profession: \"Football Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Cristiano Ronaldo\", profession: \"Football Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Jack Nicklaus\", profession: \"Golf Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n      ],\r\n    };\r\n  }\r\n  generatePdf = ()=>{\r\n    const doc = new jsPDF('p','pt','a4');\r\n    doc.setProperties({\r\n      title: \"This is my title\"\r\n    });\r\n    doc.setFont('Arial', '')\r\n    doc.setFontSize(30)\r\n    let text = 'Hi How are you'\r\n    let xcenterPotiotion = (doc.internal.pageSize.width / 2) - (doc.getStringUnitWidth(text) * doc.internal.getFontSize() / 2);\r\n    doc.addImage(jgLogo, 'PNG', 0, 0, 100, 100);\r\n    doc.text('Purchase order', xcenterPotiotion, 50);\r\n    doc.setFont('Arial', '')\r\n    doc.setFontSize(10)\r\n    doc.text(text, 10, 100);\r\n    doc.text(text, 140, 100);\r\n    doc.text(text, 280, 100);\r\n    doc.text(text, 420, 100);\r\n    doc.addPage();\r\n    var generateData = function(amount) {\r\n      var result = [];\r\n      var data = {\r\n        coin: \"100\",\r\n        game_group: \"GameGroup\",\r\n        game_name: \"XPTO2\",\r\n        game_version: \"25\",\r\n        machine: \"20485861\",\r\n        vlt: \"0\"\r\n      };\r\n      for (var i = 0; i < amount; i += 1) {\r\n        data.id = (i + 1).toString();\r\n        result.push(Object.assign({}, data));\r\n      }\r\n      return result;\r\n    };\r\n    \r\n    function createHeaders(keys) {\r\n      var result = [];\r\n      for (var i = 0; i < keys.length; i += 1) {\r\n        result.push({\r\n          id: keys[i],\r\n          name: keys[i],\r\n          prompt: keys[i],\r\n          width: 250,\r\n          align: \"center\",\r\n          padding: 0\r\n        });\r\n      }\r\n      return result;\r\n    }\r\n    \r\n    var headers = createHeaders([\r\n      \"id\",\r\n      \"coin\",\r\n      \"game_group\",\r\n      \"game_name\",\r\n      \"game_version\",\r\n      \"machine\",\r\n      \"vlt\"\r\n    ]);\r\n    doc.table(1, 1, generateData(100), headers);\r\n    //top left\r\n    doc.text(\"*\", 1, 10);\r\n    doc.text(\"*\", 5, 10);\r\n    //top right\r\n    doc.text(\"*\", 585, 10);\r\n    doc.text(\"*\", 589, 10);\r\n    //bottom left\r\n    doc.text(\"*\", 1, 842);\r\n    doc.text(\"*\", 5, 842);\r\n    //bottom right\r\n    doc.text(\"*\", 585, 842);\r\n    doc.text(\"*\", 589, 842);\r\n    window.open(doc.output('bloburi'), '_blank');\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"divid\">\r\n        <button className=\"my-btn full-widht\" onClick={() => this.generatePdf()}>\r\n          Generate pdf\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(testReportPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\reportPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\inventory.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\deliveryOrderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\orderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlanPrint.js",["299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass rawProcessingPlanPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        IDRAWPROCESSINGH: params.ID\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataRawProcessingH\r\n      });\r\n      let dataLenght = result.data.dataRawProcessingD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataRawProcessingD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Raw processing form</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"8\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Raw processing plan number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_raw_processing}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_raw_processing_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Note</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].note_raw_processing}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"4\">\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Raw material list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Satuan</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.total_qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.satuan_barang}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Admin</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Head Central Kitchen</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(rawProcessingPlanPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productionPlanPrint.js",["322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass productionPlanPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        IDPRODUKSIH: params.ID\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataProduksiH\r\n      });\r\n      let dataLenght = result.data.dataPakaiProduksiD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataPakaiProduksiD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Production plan form</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Production number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_produksi}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Plan date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_produksi_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Production item</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].production_item}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Quantity</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].production_qty_plan} {this.state.dataHeader[0].satuan_production_item}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Note</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].note_produksi}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Goods production list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Satuan</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.satuan_barang}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Admin</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Head Central Kitchen</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productionPlanPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\purchaseOrderPrint.js",["345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass purchaseOrderPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n      IDPOH: params.ID\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPOReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataPOH\r\n      });\r\n      let dataLenght = result.data.dataPOD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              this.tambahTotalPO(parseInt(result.data.dataPOD[i2].qty)*parseInt(result.data.dataPOD[i2].harga))\r\n              arrayChildData.push(result.data.dataPOD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  tambahTotalPO = (val) =>  {\r\n    let totalPOAwal = this.state.totalPO\r\n    let totalPOUpdate = totalPOAwal+val\r\n    this.setState({\r\n        ...this.state,\r\n        totalPO: totalPOUpdate\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Purchase order</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>Jl. Agung karya 7 blok c No.4-5</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>sunter podomoro kec tanjung priuk</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>Jakarta utara 14340</span>\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Purchase order</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Kepada</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Alamat</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\" style={{paddingRight:\"5vw\"}}>\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].alamat_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Pic</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].pic_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Telepon / fax</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].telp_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Email</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].email_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\" style={{height:\"10vh\"}}>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>No.PO</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_po}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Tanggal Order</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_buat_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Pengiriman</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Tanggal kirim</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_kirim_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                  </Row>\r\n\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"5\" sm=\"5\" md=\"5\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Keterangan</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Harga Satuan</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Total</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"5\" sm=\"5\" md=\"5\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.qty} {dummyDataRow2.unit_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{this.formatNumber(dummyDataRow2.harga)}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{this.formatNumber(dummyDataRow2.qty*dummyDataRow2.harga)}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                      <Row style={{visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                          <Col>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>NOTE : PENGIRIMAN SEBELUM JAM 14.00</span></Col>\r\n                                <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Jumlah</span></Col>\r\n                                <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-end\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(this.state.totalPO)}</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Sabtu Pengiriman Sebelum Jam 11:00</span></Col>\r\n                                <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}>\r\n                                    {\r\n                                        this.state.dataHeader[0].taxParameter == \"YES\" && <span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>ppn 10%</span>\r\n                                    }\r\n                                </Col>\r\n                                <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-end\",alignItems:\"center\",border:\"1pt solid #000000\"}}>\r\n                                    {\r\n                                        this.state.dataHeader[0].taxParameter == \"YES\" && <span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(Math.round(this.state.totalPO*1.1-this.state.totalPO))}</span>\r\n                                    }\r\n                                </Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Senin-Juma'at Pengiriman  Sebelum Jam 14:00</span></Col>\r\n                                <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}>\r\n                                    <span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Total</span>\r\n                                </Col>\r\n                                <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-end\",alignItems:\"center\",border:\"1pt solid #000000\"}}>\r\n                                    {\r\n                                        this.state.dataHeader[0].taxParameter == \"YES\" ? <span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(this.state.totalPO+Math.round(this.state.totalPO*1.1-this.state.totalPO))}</span> : <span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(this.state.totalPO)}</span>\r\n                                    }\r\n                                </Col>\r\n                              </Row>\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Purchasing</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Svp Finance</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(purchaseOrderPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\transferOutPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\deliveryOrderPrint.js",["382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass deliveryOrderPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        ID: params.ID\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDeliveryOrderReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataProduksiH\r\n      });\r\n      let dataLenght = result.data.dataPakaiProduksiD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataPakaiProduksiD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Delivery Order</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"7\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Delivery order number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_delivery_order}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Delivery date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_kirim_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"5\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Order number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_order}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Order date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_order_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>To</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Order list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Send Qty</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"4\" sm=\"4\" md=\"4\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{`${dummyDataRow2.qty_toShow} ${dummyDataRow2.unit_barang}.${dummyDataRow2.satuan_barang}`}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Admin</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Head Central Kitchen</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(deliveryOrderPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\stockReconciliationPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\transferInPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\pembelianPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\prepareDeliveryOrderPrint.js",["403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass prepareDeliveryOrderPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        ID: params.ID\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataOrderH\r\n      });\r\n      let dataLenght = result.data.orderList.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.orderList[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Order Detail</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"12\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"3\">\r\n                            <span style={{fontSize:\"12pt\"}}>Order number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"9\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_order}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"3\">\r\n                            <span style={{fontSize:\"12pt\"}}>Order date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"9\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_buat_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"3\">\r\n                            <span style={{fontSize:\"12pt\"}}>To</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"9\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Order list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Request Qty</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"4\" sm=\"4\" md=\"4\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{`${dummyDataRow2.qty_req_toshow} ${dummyDataRow2.unit_barang}.${dummyDataRow2.satuan_barang}`}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(prepareDeliveryOrderPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\main.js",["420","421","422","423","424","425"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass mainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // data table recent purchase\r\n      dataRecentPurchase: [],\r\n      loadingRecentPurchase:false,\r\n      // data table open order\r\n      dataOpenOrder: [],\r\n      loadingOpenOrder:false,\r\n      // data table raw material\r\n      dataInventory: [],\r\n      loadingInventory:false,\r\n      // data table finished goods\r\n      dataInventory2: [],\r\n      loadingInventory2:false,\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loadingRecentPurchase:true,\r\n      loadingOpenOrder:true,\r\n      loadingInventory:true,\r\n      loadingInventory2:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataDashboard`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataRecentPurchase: result.data.dataPOH,\r\n        dataOpenOrder: result.data.dataOrderH,\r\n        dataInventory: result.data.dataInventory,\r\n        dataInventory2: result.data.dataInventoryFinshedGoods,\r\n        loadingRecentPurchase:false,\r\n        loadingOpenOrder:false,\r\n        loadingInventory:false,\r\n        loadingInventory2:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loadingRecentPurchase:true,\r\n      loadingOpenOrder:true,\r\n      loadingInventory:true,\r\n      loadingInventory2:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataDashboard`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataRecentPurchase: result.data.dataPOH,\r\n        dataOpenOrder: result.data.dataOrderH,\r\n        dataInventory: result.data.dataInventory,\r\n        dataInventory2: result.data.dataInventoryFinshedGoods,\r\n        loadingRecentPurchase:false,\r\n        loadingOpenOrder:false,\r\n        loadingInventory:false,\r\n        loadingInventory2:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  navToggle = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      navCollapse: !this.state.navCollapse\r\n    });\r\n  }\r\n  render() {\r\n    // data table recent purchase\r\n    const recentPurchaseColumns = [\r\n      {\r\n        name: 'Nomor PO',\r\n        selector: 'nomor_po',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'PO Status',\r\n        selector: 'po_status',\r\n        sortable: true,\r\n      },\r\n      // {\r\n      //   name: 'Tool',\r\n      //   button: true,\r\n      //   cell: row => recentPurchaseDataButton(row),\r\n      // },\r\n    ];\r\n    // data table open order\r\n    const openOrderColumns = [\r\n      {\r\n        name: 'Nomor order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status order',\r\n        selector: 'status_order',\r\n        sortable: true,\r\n      },\r\n      // {\r\n      //   name: 'Tool',\r\n      //   button: true,\r\n      //   cell: row => openOrderDataButton(row),\r\n      // },\r\n    ];\r\n    // data table raw material\r\n    const inventoryColumns = [\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'OnHand Qty',\r\n        selector: 'onhand_qty_to_show',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Barang',\r\n        selector: 'satuan_to_show',\r\n        sortable: true,\r\n      },\r\n    ];\r\n    const conditionalInventoryRowStyles = [\r\n      {\r\n        when: row => row.onhand_qty == 0,\r\n        style: {\r\n          color: 'red',\r\n          '&:hover': {\r\n            color: 'red',\r\n            cursor: 'pointer',\r\n          },\r\n        },\r\n      },\r\n    ];\r\n    // data table finished goods\r\n    const inventory2Columns = [\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'OnHand Qty',\r\n        selector: 'onhand_qty_to_show',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Barang',\r\n        selector: 'satuan_to_show',\r\n        sortable: true,\r\n      },\r\n    ];\r\n    const conditionalInventory2RowStyles = [\r\n      {\r\n        when: row => row.onhand_qty == 0,\r\n        style: {\r\n          color: 'red',\r\n          '&:hover': {\r\n            color: 'red',\r\n            cursor: 'pointer',\r\n          },\r\n        },\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{padding:0}}>\r\n                <div className=\"card\">\r\n                  <div className=\"card-header\">\r\n                    <span style={{fontWeight:\"bold\"}}>Hello {this.props.userinfo.nama_user}</span>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <Row>\r\n                  <Col xs=\"12\" sm=\"12\" md=\"6\" style={{padding:5}}>\r\n                    <div className=\"card\" style={{height:\"100%\"}}>\r\n                      <div className=\"card-header\">\r\n                        <Row>\r\n                          <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                            <span style={{fontWeight:\"bold\"}}>Raw material</span>\r\n                          </Col>\r\n                          {/* <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                            <button className=\"myBtn\" onClick={() => this.exportPDF()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                          </Col> */}\r\n                        </Row>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <DataTableExtensions\r\n                            columns={inventoryColumns}\r\n                            data={this.state.dataInventory}\r\n                            print={false}\r\n                            exportHeaders={false}\r\n                            export={false}\r\n                        >\r\n                          <DataTable\r\n                            defaultSortField=\"title\"\r\n                            pagination={true}\r\n                            highlightOnHover={true}\r\n                            striped={false}\r\n                            progressPending={this.state.loadingInventory}\r\n                            noHeader={true}\r\n                            fixedHeader={false}\r\n                            paginationPerPage={5}\r\n                            paginationRowsPerPageOptions={[5]}\r\n                            fixedHeaderScrollHeight=\"300px\"\r\n                            conditionalRowStyles={conditionalInventoryRowStyles}\r\n                          />\r\n                        </DataTableExtensions>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"12\" sm=\"12\" md=\"6\" style={{padding:5}}>\r\n                    <div className=\"card\" style={{height:\"100%\"}}>\r\n                      <div className=\"card-header\">\r\n                        <Row>\r\n                          <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                            <span style={{fontWeight:\"bold\"}}>Finished Goods</span>\r\n                          </Col>\r\n                          {/* <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                            <button className=\"myBtn\" onClick={() => this.exportPDF()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                          </Col> */}\r\n                        </Row>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <DataTableExtensions\r\n                            columns={inventory2Columns}\r\n                            data={this.state.dataInventory2}\r\n                            print={false}\r\n                            exportHeaders={false}\r\n                            export={false}\r\n                        >\r\n                          <DataTable\r\n                            defaultSortField=\"title\"\r\n                            pagination={true}\r\n                            highlightOnHover={true}\r\n                            striped={false}\r\n                            progressPending={this.state.loadingInventory2}\r\n                            noHeader={true}\r\n                            fixedHeader={false}\r\n                            paginationPerPage={5}\r\n                            paginationRowsPerPageOptions={[5]}\r\n                            fixedHeaderScrollHeight=\"300px\"\r\n                            conditionalRowStyles={conditionalInventory2RowStyles}\r\n                          />\r\n                        </DataTableExtensions>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col xs=\"12\" sm=\"12\" md=\"6\" style={{padding:5}}>\r\n                    <div className=\"card\" style={{height:\"100%\"}}>\r\n                      <div className=\"card-header\">\r\n                        <Row>\r\n                          <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                            <span style={{fontWeight:\"bold\"}}>Recent Purchase</span>\r\n                          </Col>\r\n                          {/* <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                            <button className=\"myBtn\" onClick={() => this.exportPDF()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                          </Col> */}\r\n                        </Row>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <DataTableExtensions\r\n                            columns={recentPurchaseColumns}\r\n                            data={this.state.dataRecentPurchase}\r\n                            print={false}\r\n                            exportHeaders={false}\r\n                            export={false}\r\n                        >\r\n                          <DataTable\r\n                            defaultSortField=\"title\"\r\n                            pagination={true}\r\n                            highlightOnHover={true}\r\n                            striped={false}\r\n                            progressPending={this.state.loadingRecentPurchase}\r\n                            noHeader={true}\r\n                            fixedHeader={false}\r\n                            paginationPerPage={5}\r\n                            paginationRowsPerPageOptions={[5]}\r\n                            fixedHeaderScrollHeight=\"300px\"\r\n                          />\r\n                        </DataTableExtensions>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"12\" sm=\"12\" md=\"6\" style={{padding:5}}>\r\n                    <div className=\"card\" style={{height:\"100%\"}}>\r\n                      <div className=\"card-header\">\r\n                        <Row>\r\n                          <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                            <span style={{fontWeight:\"bold\"}}>Open Order</span>\r\n                          </Col>\r\n                          {/* <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                            <button className=\"myBtn\" onClick={() => this.exportPDF()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                          </Col> */}\r\n                        </Row>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <DataTableExtensions\r\n                            columns={openOrderColumns}\r\n                            data={this.state.dataOpenOrder}\r\n                            print={false}\r\n                            exportHeaders={false}\r\n                            export={false}\r\n                        >\r\n                          <DataTable\r\n                            defaultSortField=\"title\"\r\n                            pagination={true}\r\n                            highlightOnHover={true}\r\n                            striped={false}\r\n                            progressPending={this.state.loadingOpenOrder}\r\n                            noHeader={true}\r\n                            fixedHeader={false}\r\n                            paginationPerPage={5}\r\n                            paginationRowsPerPageOptions={[5]}\r\n                            fixedHeaderScrollHeight=\"300px\"\r\n                          />\r\n                        </DataTableExtensions>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(mainPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterOutlet.js",["426","427","428","429","430","431"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroupAddon,\r\n  InputGroup\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterOutlet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamaoutlet:\"\",\r\n      tambahAlamatoutlet:\"\",\r\n      tambahPICoutlet:\"\",\r\n      tambahTelpoutlet:\"\",\r\n      tambahEmailoutlet:\"\",\r\n      tambahPassoutlet:\"\",\r\n      PRMtambahPassoutlet:true,\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeoutlet:\"\",\r\n      editnamaoutlet:\"\",\r\n      editAlamatoutlet:\"\",\r\n      editPICoutlet:\"\",\r\n      editTelpoutlet:\"\",\r\n      editEmailoutlet:\"\",\r\n      editPassoutlet:\"\",\r\n      PRMeditPassoutlet:true,\r\n      masterOutletList:[]\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataOutlet`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataOutlet`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamaoutlet:\"\",\r\n      tambahAlamatoutlet:\"\",\r\n      tambahPICoutlet:\"\",\r\n      tambahTelpoutlet:\"\",\r\n      tambahEmailoutlet:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodeoutlet:data.id_outlet,\r\n      editnamaoutlet:data.nama_outlet,\r\n      editAlamatoutlet:data.alamat_outlet,\r\n      editPICoutlet:data.pic,\r\n      editTelpoutlet:data.telp,\r\n      editEmailoutlet:data.email\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeoutlet:\"\",\r\n      editnamaoutlet:\"\",\r\n      editAlamatoutlet:\"\",\r\n      editPICoutlet:\"\",\r\n      editTelpoutlet:\"\",\r\n      editEmailoutlet:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodeoutlet,\r\n      NAME: this.state.editnamaoutlet,\r\n      ALAMAT: this.state.editAlamatoutlet,\r\n      PIC: this.state.editPICoutlet,\r\n      TELP: this.state.editTelpoutlet,\r\n      EMAIL: this.state.editEmailoutlet\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editdataOutlet`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamaoutlet,\r\n      ALAMAT: this.state.tambahAlamatoutlet,\r\n      PIC: this.state.tambahPICoutlet,\r\n      TELP: this.state.tambahTelpoutlet,\r\n      EMAIL: this.state.tambahEmailoutlet\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"nama outlet tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/adddataOutlet`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  toogleTambahPass = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      PRMtambahPassoutlet:!this.state.PRMtambahPassoutlet\r\n    })\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode outlet',\r\n        selector: 'id_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Alamat outlet',\r\n        selector: 'alamat_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'PIC outlet',\r\n        selector: 'pic',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Telp outlet',\r\n        selector: 'telp',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Email outlet',\r\n        selector: 'email',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master outlet</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamaoutlet\">Nama outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahnamaoutlet\" id=\"tambahnamaoutlet\" value={this.state.tambahnamaoutlet} onChange={this.handleChange} placeholder=\"Nama outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAlamatoutlet\">Alamat outlet</Label>\r\n                  <Input type=\"textarea\" name=\"tambahAlamatoutlet\" id=\"tambahAlamatoutlet\" value={this.state.tambahAlamatoutlet} onChange={this.handleChange} placeholder=\"Alamat outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPICoutlet\">PIC outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahPICoutlet\" id=\"tambahPICoutlet\" value={this.state.tambahPICoutlet} onChange={this.handleChange} placeholder=\"PIC outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahTelpoutlet\">Telp outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahTelpoutlet\" id=\"tambahTelpoutlet\" value={this.state.tambahTelpoutlet} onChange={this.handleChange} placeholder=\"Telp outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahEmailoutlet\">Email outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahEmailoutlet\" id=\"tambahEmailoutlet\" value={this.state.tambahEmailoutlet} onChange={this.handleChange} placeholder=\"Email outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master outlet</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabeditnamavendorarang\">Nama outlet</Label>\r\n                  <Input type=\"text\" name=\"editnamaoutlet\" id=\"editnamaoutlet\" value={this.state.editnamaoutlet} onChange={this.handleChange} placeholder=\"Nama outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editAlamatoutlet\">Alamat outlet</Label>\r\n                  <Input type=\"textarea\" name=\"editAlamatoutlet\" id=\"editAlamatoutlet\" value={this.state.editAlamatoutlet} onChange={this.handleChange} placeholder=\"Alamat outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editPICoutlet\">PIC outlet</Label>\r\n                  <Input type=\"text\" name=\"editPICoutlet\" id=\"editPICoutlet\" value={this.state.editPICoutlet} onChange={this.handleChange} placeholder=\"PIC outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editTelpoutlet\">Telp outlet</Label>\r\n                  <Input type=\"text\" name=\"editTelpoutlet\" id=\"editTelpoutlet\" value={this.state.editTelpoutlet} onChange={this.handleChange} placeholder=\"Telp outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editEmailoutlet\">Email outlet</Label>\r\n                  <Input type=\"text\" name=\"editEmailoutlet\" id=\"editEmailoutlet\" value={this.state.editEmailoutlet} onChange={this.handleChange} placeholder=\"Email outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Outlet</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterOutletList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterOutlet));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\produksi.js",["432","433","434","435","436","437","438","439"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass produksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProduksiPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProduksiPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddProduksi`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarang,\r\n        masterBarangSisaList: result.data.dataMasterBarang,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEPRODUKSIH: data.kode_produksi_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProduksiPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataProduksiPakaiD,\r\n        dataProduksiSisaD:result.data.dataProduksiSisaD,\r\n        dataProduksiHasilD:result.data.dataProduksiHasilD,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data barang hasil produksi tidak boleh kosong\")\r\n    } else if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addProduksi`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`}\r\n        await daftarBarang.push(dataTopush)\r\n        let dataToSend = {\r\n          PRMBARANGHASIL: this.state.prmBarangHasil.prmBarangHasil\r\n        };\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n        });\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailBarangProduksi`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataProduksiPakaiD,\r\n            listAddBarangSisa:result.data.dataProduksiSisaD,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      } else {\r\n        let dataToSend = {\r\n          PRMBARANGHASIL: this.state.prmBarangHasil.prmBarangHasil\r\n        };\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybaranghasil)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n        });\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailBarangProduksi`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataProduksiPakaiD,\r\n            listAddBarangSisa:result.data.dataProduksiSisaD,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[]\r\n    });\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Create User',\r\n        selector: 'create_user',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangHasil.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"5\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\">\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.prmBarangHasil.satuan}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonAddBarangHasilPrm}\r\n                  />\r\n                  {this.state.buttonAddBarangHasilText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_inventory}</span></Col>\r\n                    <Col xs=\"2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        name={`${index}`}\r\n                        id={`${index}`}\r\n                        value={listAddBarangPakai.qty}\r\n                        onChange={this.handleChangeDatapakaiD}\r\n                        min=\"0\" max={`${listAddBarangPakai.qty_in_inventory}`}\r\n                      />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* sisa produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang sisa produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangSisa.length > 0 && this.state.listAddBarangSisa.map((listAddBarangSisa,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.nama_barang}</span></Col>\r\n                    <Col xs=\"2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        name={`${index}`}\r\n                        id={`${index}`}\r\n                        value={listAddBarangSisa.qty}\r\n                        onChange={this.handleChangeDataSisaD}\r\n                        min=\"0\"\r\n                      />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.satuan}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* sisa produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang sisa produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiSisaD.length > 0 && this.state.dataProduksiSisaD.map((dataProduksiSisaD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Produksi</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(produksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterVendor.js",["440","441","442","443"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterVendor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamavendor:\"\",\r\n      tambahAlamatvendor:\"\",\r\n      tambahPICvendor:\"\",\r\n      tambahTelpvendor:\"\",\r\n      tambahEmailvendor:\"\",\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodevendor:\"\",\r\n      editnamavendor:\"\",\r\n      editAlamatvendor:\"\",\r\n      editPICvendor:\"\",\r\n      editTelpvendor:\"\",\r\n      editEmailvendor:\"\",\r\n      masterVendorList:[]\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataVendor`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataVendor`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamavendor:\"\",\r\n      tambahAlamatvendor:\"\",\r\n      tambahPICvendor:\"\",\r\n      tambahTelpvendor:\"\",\r\n      tambahEmailvendor:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodevendor:data.kode_vendor,\r\n      editnamavendor:data.nama_vendor,\r\n      editAlamatvendor:data.alamat_vendor,\r\n      editPICvendor:data.pic,\r\n      editTelpvendor:data.telp_vendor,\r\n      editEmailvendor:data.email_vendor\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodevendor:\"\",\r\n      editnamavendor:\"\",\r\n      editAlamatvendor:\"\",\r\n      editPICvendor:\"\",\r\n      editTelpvendor:\"\",\r\n      editEmailvendor:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodevendor,\r\n      NAME: this.state.editnamavendor,\r\n      ALAMAT: this.state.editAlamatvendor,\r\n      PIC: this.state.editPICvendor,\r\n      TELP: this.state.editTelpvendor,\r\n      EMAIL: this.state.editEmailvendor\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editdataVendor`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamavendor,\r\n      ALAMAT: this.state.tambahAlamatvendor,\r\n      PIC: this.state.tambahPICvendor,\r\n      TELP: this.state.tambahTelpvendor,\r\n      EMAIL: this.state.tambahEmailvendor\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"nama vendor tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/adddataVendor`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode vendor',\r\n        selector: 'kode_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Alamat vendor',\r\n        selector: 'alamat_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'PIC vendor',\r\n        selector: 'pic',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Telp vendor',\r\n        selector: 'telp_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Email vendor',\r\n        selector: 'email_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master vendor</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamavendor\">Nama vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahnamavendor\" id=\"tambahnamavendor\" value={this.state.tambahnamavendor} onChange={this.handleChange} placeholder=\"Nama vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAlamatvendor\">Alamat vendor</Label>\r\n                  <Input type=\"textarea\" name=\"tambahAlamatvendor\" id=\"tambahAlamatvendor\" value={this.state.tambahAlamatvendor} onChange={this.handleChange} placeholder=\"Alamat vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPICvendor\">PIC vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahPICvendor\" id=\"tambahPICvendor\" value={this.state.tambahPICvendor} onChange={this.handleChange} placeholder=\"PIC vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahTelpvendor\">Telp vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahTelpvendor\" id=\"tambahTelpvendor\" value={this.state.tambahTelpvendor} onChange={this.handleChange} placeholder=\"Telp vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahEmailvendor\">Email vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahEmailvendor\" id=\"tambahEmailvendor\" value={this.state.tambahEmailvendor} onChange={this.handleChange} placeholder=\"Email vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master vendor</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabeditnamavendorarang\">Nama vendor</Label>\r\n                  <Input type=\"text\" name=\"editnamavendor\" id=\"editnamavendor\" value={this.state.editnamavendor} onChange={this.handleChange} placeholder=\"Nama vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editAlamatvendor\">Alamat vendor</Label>\r\n                  <Input type=\"textarea\" name=\"editAlamatvendor\" id=\"editAlamatvendor\" value={this.state.editAlamatvendor} onChange={this.handleChange} placeholder=\"Alamat vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editPICvendor\">PIC vendor</Label>\r\n                  <Input type=\"text\" name=\"editPICvendor\" id=\"editPICvendor\" value={this.state.editPICvendor} onChange={this.handleChange} placeholder=\"PIC vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editTelpvendor\">Telp vendor</Label>\r\n                  <Input type=\"text\" name=\"editTelpvendor\" id=\"editTelpvendor\" value={this.state.editTelpvendor} onChange={this.handleChange} placeholder=\"Telp vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editEmailvendor\">Email vendor</Label>\r\n                  <Input type=\"text\" name=\"editEmailvendor\" id=\"editEmailvendor\" value={this.state.editEmailvendor} onChange={this.handleChange} placeholder=\"Email vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master vendor</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterVendorList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterVendor));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\rawProsessingPlan.js",["444","445","446","447","448","449","450","451","452","453","454","455","456","457","458"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass rawProsessing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      editNote:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataRawProcessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataRawProcessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormRawProsessingPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDRAWPROCESSH: data.kode_raw_processing_h,\r\n      IDMASTERRAWPROCESS: data.kode_master_rawprosessing_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataRawMaterial,\r\n        dataProduksiHasilD:result.data.dataFinishedGoods\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailData:data,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      editNote:data.note_raw_processing\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      editNote:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    let totalQtyWithcost = 0\r\n    let dataWithCost =  this.state.dataProduksiHasilD.filter(function(data) {\r\n        return data.prm_cost == \"WITHCOST\";\r\n    });\r\n    for(let i1=0;i1<dataWithCost.length;i1++){\r\n      totalQtyWithcost=parseInt(totalQtyWithcost)+parseInt(dataWithCost[i1].qty)\r\n    }\r\n    let totalCost = parseInt(this.state.dataProduksiPakaiD[0].cost_satuan)*parseInt(this.state.dataProduksiPakaiD[0].total_qty)\r\n    const dataToSend = {\r\n    //   COST:Math.round(parseInt(totalCost)/parseInt(totalQtyWithcost)),\r\n      COST:parseInt(totalCost)/parseInt(totalQtyWithcost),\r\n      IDRAWPROCESSH:this.state.detailData.kode_raw_processing_h,\r\n      NOTE:this.state.editNote,\r\n      FINISHEDGOODS:this.state.dataProduksiHasilD,\r\n      USER:this.props.userinfo.id_user\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/rawProcessCompletion`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Selesaikan proses ini\",\r\n      });\r\n      alert(\"Raw process berhasil di tutup\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALRAWPROCES: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATARAWMATERIAL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      console.log(dataToSend);\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormRawProsessingPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/rawProsessingPlanPrint?ID=${result.data.kodeRawProcessingH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(parseInt(this.state.prmBarangHasil.qty_in_stok) < parseInt(this.state.tambahqtybaranghasil)){\r\n      alert(\"Stok tidak mencukupi\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`,prmMasterRawProsessing:`${this.state.prmBarangHasil.kode_master_rawprosessing_h}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    // let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  handleChangeUnitReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    daftarBarang[IdData].unit_receive=event.target.value\r\n    let unitReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanReceive = daftarBarang[IdData].satuan_receive==\"\"?0:parseInt(daftarBarang[IdData].satuan_receive)\r\n    daftarBarang[IdData].qty=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeSatuanReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    let maxSatuan = parseInt(daftarBarang[IdData].konversi_barang)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      daftarBarang[IdData].satuan_receive=event.target.value\r\n      let unitReceive = daftarBarang[IdData].unit_receive==\"\"?0:parseInt(daftarBarang[IdData].unit_receive)\r\n      let satuanReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      daftarBarang[IdData].qty=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiHasilD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Raw Process',\r\n        selector: 'nomor_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Raw Process',\r\n        selector: 'tanggal_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Raw Process',\r\n        selector: 'raw_material',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Raw Process',\r\n        selector: 'raw_material_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Raw Process',\r\n        selector: 'satuan_raw_material',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Raw Process',\r\n        selector: 'note_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Raw processing plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pengajuan rencana produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Qty in stok</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty_in_stok == undefined?\"---\":this.state.prmBarangHasil.qty_in_stok} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Qty request</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          name=\"tambahqtybaranghasil\"\r\n                          id=\"tambahqtybaranghasil\"\r\n                          value={this.state.tambahqtybaranghasil}\r\n                          onChange={this.handleChange}\r\n                          placeholder=\"Qty\"\r\n                          min=\"1\"\r\n                          max={this.state.prmBarangHasil.qty_in_stok}\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Satuan</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail raw processing plan</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor raw process</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.nomor_raw_processing} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal raw process</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.tanggal_raw_processing} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"editNote\">Note raw process</Label>\r\n                  <Input type=\"textarea\" name=\"editNote\" id=\"editNote\" value={this.state.editNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw material list</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.total_qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>UNIT</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                        <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataProduksiHasilD.unit_receive} onChange={this.handleChangeUnitReceive} min=\"0\" />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.unit_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                        <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataProduksiHasilD.satuan_receive} onChange={this.handleChangeSatuanReceive} min=\"0\" />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menyeleesaikan proses ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Raw processing plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(rawProsessing));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterProduksi.js",["459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass masterProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataMasterProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/masterproduksi`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterProduksiH: result.data.dataMasterProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/masterproduksi`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterProduksiH: result.data.dataMasterProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddMasterProduksi`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarangWIP,\r\n        masterBarangSisaList: result.data.dataMasterBarang,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEMASTERPRODUKSIH: data.kode_master_produksi_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiHasilD:result.data.dataMasterProduksiHasilD,\r\n        dataProduksiPakaiD:result.data.dataMasterProduksiPakaiD,\r\n        masterBarangPakaiListE: result.data.dataMasterBarang,\r\n        masterBarangSisaListE: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      dataProduksiHasilD:[],\r\n      dataProduksiPakaiD:[],\r\n      detailDataProduksi:\"\",\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data barang hasil produksi tidak boleh kosong\")\r\n    } else if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n        this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:true,\r\n            buttonAddText:\"\"\r\n        });\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterProduksi`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            let statusApi = result.data.status\r\n            if(statusApi === \"00\"){\r\n              await this.setState({\r\n              ...this.state,\r\n              buttonAddPrm:false,\r\n              buttonAddText:\"Save\",\r\n              });\r\n              alert(\"kode barang hasil produksi sudah ada di sistem\")\r\n            } else {\r\n              await this.setState({\r\n              ...this.state,\r\n              buttonAddPrm:false,\r\n              buttonAddText:\"Save\",\r\n              });\r\n              alert(\"data berhasil Ditambahkan\")\r\n              await this.modalAddClose()\r\n              // window.open(\"http://google.com\", \"_blank\")\r\n              this.refreshPageData()\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            console.log(this.props);\r\n        });\r\n    }\r\n  }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.nama_barang,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\"){\r\n      alert(\"barang hasil produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil == \"\"){\r\n      alert(\"qty barang hasil produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`}\r\n      await daftarBarang.push(dataTopush)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangHasil: daftarBarang,\r\n        prmBarangHasil:\"\",\r\n        tambahkodebaranghasil:\"\",\r\n        tambahnamabaranghasil:\"\",\r\n        tambahsatuanbaranghasil:\"\",\r\n        tambahqtybaranghasil:\"\",\r\n      });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang\r\n    });\r\n  }\r\n  // function barang pakai produksi\r\n  onSelectChangedMasterBarangPakai = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakai: value,\r\n      tambahkodebarangpakai:value.value,\r\n      tambahnamabarangpakai:value.nama_barang,\r\n      tambahsatuanbarangpakai:value.satuan,\r\n    });\r\n  }\r\n  addDataPakai = async () => {\r\n    if(this.state.tambahkodebarangpakai === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangPakai\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`,cost:`0`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakai = async (keyArray) => {\r\n    // let daftarBarang = this.state.listAddBarangPakai\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   listAddBarangPakai: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.listAddBarangPakai\r\n    let daftarBarangSisa = this.state.listAddBarangSisa\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisa(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  handleChangeDatapakaiQTYD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiCOSTD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].cost=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisa = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisa: value,\r\n      tambahkodebarangsisa:value.value,\r\n      tambahnamabarangsisa:value.nama_barang,\r\n      tambahsatuanbarangsisa:value.satuan,\r\n    });\r\n  }\r\n  addDataSisa = async () => {\r\n    if(this.state.tambahkodebarangsisa === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisa === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahopsicost === \"\"){\r\n        alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangSisa\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,prm:`${this.state.tambahprmbarangsisa}`,opsicost:`${this.state.tambahopsicost}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisa = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  // function edit barang pakai produksi\r\n  onSelectChangedMasterBarangPakaiE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakaiE: value,\r\n      tambahkodebarangpakaiE:value.value,\r\n      tambahnamabarangpakaiE:value.nama_barang,\r\n      tambahsatuanbarangpakaiE:value.satuan,\r\n    });\r\n  }\r\n  addDataPakaiE = async () => {\r\n    if(this.state.tambahkodebarangpakaiE === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiPakaiD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakaiE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakaiE}`,nama_barang:`${this.state.tambahnamabarangpakaiE}`,satuan_barang:`${this.state.tambahsatuanbarangpakaiE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakaiE = async (keyArray) => {\r\n    // let daftarBarang = this.state.dataProduksiPakaiD\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   dataProduksiPakaiD: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.dataProduksiPakaiD\r\n    let daftarBarangSisa = this.state.dataProduksiSisaD\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisaE(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisaE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisaE: value,\r\n      tambahkodebarangsisaE:value.value,\r\n      tambahnamabarangsisaE:value.nama_barang,\r\n      tambahsatuanbarangsisaE:value.satuan,\r\n    });\r\n  }\r\n  addDataSisaE = async () => {\r\n    if(this.state.tambahkodebarangsisaE === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisaE === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahkonversionratebarangsisaE === \"\"){\r\n        alert(\"satuan konversi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiSisaD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisaE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {\r\n        kode_barang:`${this.state.tambahkodebarangsisaE}`,\r\n        nama_barang_sisa:`${this.state.tambahnamabarangsisaE}`,\r\n        prm_kode_barang_pakai:`${this.state.tambahprmbarangsisaE}`,\r\n        conversion_rate:`${this.state.tambahkonversionratebarangsisaE}`,\r\n        satuan_barang_sisa:`${this.state.tambahsatuanbarangsisaE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisaE = async (keyArray) => {\r\n    let daftarBarang = this.state.dataProduksiSisaD\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      dataProduksiSisaD: daftarBarang\r\n    });\r\n  }\r\n  // function update master produksi\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDPLANPRODUCTION:this.state.detailDataProduksi.kode_master_produksi_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/updateMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"NONACTIVATE\",\r\n      });\r\n      alert(\"Data plan produksi berhasil di nonaktifkan\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  // function delete master produksi\r\n  deleteData = (data) => {\r\n    const dataToSend = {\r\n      ID: data.kode_master_produksi_h,\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/deleteMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      alert(\"data berhasil dihapus\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n        {/* <button className=\"myBtn\" onClick={() => { if (window.confirm('Apakah anda yakin akan menghapus master produksi ini ?')) this.deleteData(data) } }><i className=\"fa fa-trash fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode Master Produksi',\r\n        selector: 'kode_master_produksi_h',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nomor Master Produksi',\r\n        selector: 'nomor_master_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form master plan produksi</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangHasil.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"7\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"tambahqtybaranghasil\"\r\n                  id=\"tambahqtybaranghasil\"\r\n                  placeholder=\"qty\"\r\n                  value={this.state.tambahqtybaranghasil}\r\n                  onChange={this.handleChange}\r\n                  min=\"0\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.tambahsatuanbaranghasil == \"\"?\"---\":this.state.tambahsatuanbaranghasil+\"/batch\"}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"7\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangPakai\"\r\n                  value={this.state.prmBarangPakai}\r\n                  options={this.state.masterBarangPakaiList}\r\n                  onChange={this.onSelectChangedMasterBarangPakai.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"tambahqtybarangpakai\"\r\n                  id=\"tambahqtybarangpakai\"\r\n                  placeholder=\"qty\"\r\n                  value={this.state.tambahqtybarangpakai}\r\n                  onChange={this.handleChange}\r\n                  min=\"0\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.tambahsatuanbarangpakai == \"\"?\"---\":this.state.tambahsatuanbarangpakai+\"/batch\"}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataPakai()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataPakai(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Master plan Produksi</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menonaktifkan master plan produksi ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          {/* <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter> */}\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Plan Produksi</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataMasterProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterRawProcessing.js",["475","476","477","478","479","480","481","482","483","484","485","486"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass masterRawProcessing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataMasterRawProsessingH:[],\r\n      dataFinishedGoodsD:[],\r\n      dataProduksiSisaD:[],\r\n      dataRawMaterialD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterRawprosessing`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterRawProsessingH: result.data.dataMasterRawProsessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterRawprosessing`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterRawProsessingH: result.data.dataMasterRawProsessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddMasterRawprosessing`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarangRaw,\r\n        masterBarangHasilList: result.data.dataMasterBarangFinished,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEDATAH: data.kode_master_rawprosessing_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterRawprosessingD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataRawMaterialD:result.data.dataRawMaterialD,\r\n        dataFinishedGoodsD:result.data.dataFinishedGoodsD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      dataRawMaterialD:[],\r\n      dataFinishedGoodsD:[],\r\n      dataProduksiSisaD:[],\r\n      detailDataProduksi:\"\",\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        ADDDATARAWMATERIAL: this.state.listAddBarangPakai,\r\n        ADDDATAFINISHEDGOODS: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data raw material tidak boleh kosong\")\r\n    } else if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data Finished goods tidak boleh kosong\")\r\n    } else {\r\n        this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:true,\r\n            buttonAddText:\"\"\r\n        });\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterRawprosessing`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:false,\r\n            buttonAddText:\"Save\",\r\n            });\r\n            alert(\"data berhasil Ditambahkan\")\r\n            await this.modalAddClose()\r\n            this.refreshPageData()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            console.log(this.props);\r\n        });\r\n    }\r\n  }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.nama_barang,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\"){\r\n      alert(\"barang hasil produksi tidak boleh kosong\")\r\n    } else if(this.state.opsiCost === \"\"){\r\n      alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,opsi_cost:`${this.state.opsiCost}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n          opsiCost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list finished goods\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang\r\n    });\r\n  }\r\n  // function barang pakai produksi\r\n  onSelectChangedMasterBarangPakai = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakai: value,\r\n      tambahkodebarangpakai:value.value,\r\n      tambahnamabarangpakai:value.nama_barang,\r\n      tambahsatuanbarangpakai:value.satuan,\r\n    });\r\n  }\r\n  addDataPakai = async () => {\r\n    if(this.state.tambahkodebarangpakai === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangPakai\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakai = async (keyArray) => {\r\n    // let daftarBarang = this.state.listAddBarangPakai\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   listAddBarangPakai: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.listAddBarangPakai\r\n    let daftarBarangSisa = this.state.listAddBarangSisa\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisa(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  handleChangeDatapakaiQTYD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiCOSTD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].cost=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisa = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisa: value,\r\n      tambahkodebarangsisa:value.value,\r\n      tambahnamabarangsisa:value.nama_barang,\r\n      tambahsatuanbarangsisa:value.satuan,\r\n    });\r\n  }\r\n  addDataSisa = async () => {\r\n    if(this.state.tambahkodebarangsisa === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisa === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahopsicost === \"\"){\r\n        alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangSisa\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,prm:`${this.state.tambahprmbarangsisa}`,opsicost:`${this.state.tambahopsicost}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisa = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  // function delete master produksi\r\n  deleteData = (data) => {\r\n    const dataToSend = {\r\n      ID: data.kode_master_produksi_h,\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/deleteMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      alert(\"data berhasil dihapus\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDRAWPROCESSs:this.state.detailDataProduksi.kode_master_rawprosessing_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/updateMasterrawprosessing`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"NONACTIVATE\",\r\n      });\r\n      alert(\"Data plan produksi berhasil di nonaktifkan\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n        {/* <button className=\"myBtn\" onClick={() => { if (window.confirm('Apakah anda yakin akan menghapus master produksi ini ?')) this.deleteData(data) } }><i className=\"fa fa-trash fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode Master Raw Prosessing',\r\n        selector: 'kode_master_rawprosessing_h',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nomor Master Raw Prosessing',\r\n        selector: 'nomor_master_rawprosessing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form master raw processing</ModalHeader>\r\n          <ModalBody>\r\n            {/* Finish Product section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw material</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangPakai.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"10\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangPakai\"\r\n                  value={this.state.prmBarangPakai}\r\n                  options={this.state.masterBarangPakaiList}\r\n                  onChange={this.onSelectChangedMasterBarangPakai.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataPakai()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"9\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"9\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataPakai(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* Finish Product section end */}\r\n            {/* Raw material section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                  <Input type=\"select\" name=\"opsiCost\" id=\"opsiCost\" value={this.state.opsiCost}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pengatuan Cost</option>\r\n                    <option value=\"WITHCOST\">Dengan Cost</option>\r\n                    <option value=\"NOCOST\">Tanpa Cost</option>\r\n                  </Input>\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"flex-start\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PENGATURAN COST</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.opsi_cost}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* Raw material section end */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail master raw processing</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw Material</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"10\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataRawMaterialD.length > 0 && this.state.dataRawMaterialD.map((dataRawMaterialD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataRawMaterialD.kode_barang}</span></Col>\r\n                    <Col xs=\"10\"><span style={{fontWeight:\"bold\"}}>{dataRawMaterialD.nama_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished Goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"8\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PENGATURAN COST</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataFinishedGoodsD.length > 0 && this.state.dataFinishedGoodsD.map((dataFinishedGoodsD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.kode_barang}</span></Col>\r\n                    <Col xs=\"8\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.prm_cost}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menonaktifkan master plan produksi ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          {/* <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter> */}\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Raw Processing</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataMasterRawProsessingH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterRawProcessing));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterBarang.js",["487","488","489","490","491","492"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataDummy from './dummyData'\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahhargabarang:0,\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodebarang:\"\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      edithargabarang:0,\r\n      editUnitbarang:\"\",\r\n      editKonversibarang:\"\",\r\n      edittypebarang:\"\",\r\n      masterBarangList:[],\r\n      vendorList:[],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/masterbarang`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/masterbarang`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n    axios\r\n    .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getVendorOption`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        vendorList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true,\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahhargabarang:0,\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahhargabarang:0,\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      vendorList: [],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    var dataPRMvendor = {\r\n      value: data.kode_vendor,\r\n      label: data.vendor_name\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getVendorOption`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        vendorList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodebarang:data.kode_barang,\r\n      editnamabarang:data.nama_barang,\r\n      editsatuanbarang:data.satuan_barang,\r\n      edithargabarang:data.harga_barang,\r\n      editUnitbarang:data.unit_barang,\r\n      editKonversibarang:data.conversi_satuan,\r\n      edittypebarang:data.type_barang,\r\n      prmVendor:dataPRMvendor,\r\n      tambahkodevendor:data.kode_vendor\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodebarang:\"\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      edithargabarang:0,\r\n      editUnitbarang:\"\",\r\n      editKonversibarang:\"\",\r\n      edittypebarang:\"\",\r\n      vendorList: [],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      ID: this.state.editkodebarang,\r\n      NAME: this.state.editnamabarang,\r\n      UNIT: this.state.editUnitbarang,\r\n      SATUAN: this.state.editsatuanbarang,\r\n      HARGAPERUNIT: this.state.edithargabarang,\r\n      KONVERSI: this.state.editKonversibarang,\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      TYPE: this.state.edittypebarang\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"Nama barang tidak boleh kosong\")\r\n    } else if(dataToSend.UNIT === \"\"){\r\n      alert(\"Unit barang tidak boleh kosong\")\r\n    } else if(dataToSend.SATUAN === \"\"){\r\n      alert(\"Satuan barang tidak boleh kosong\")\r\n    } else if(dataToSend.HARGAPERUNIT === \"\"){\r\n      alert(\"harga barang tidak boleh kosong\")\r\n    } else if(dataToSend.KONVERSI === \"\"){\r\n      alert(\"Konversi barang tidak boleh kosong\")\r\n    } else if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Vendor tidak boleh kosong\")\r\n    } else if(dataToSend.TYPE === \"\"){\r\n      alert(\"Type barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:true,\r\n        buttonEditText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editMasterBarangData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonEditPrm:false,\r\n          buttonEditText:\"Save\"\r\n        });\r\n        alert(\"data berhasil diupdate\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamabarang,\r\n      UNIT: this.state.tambahUnitbarang,\r\n      SATUAN: this.state.tambahsatuanbarang,\r\n      HARGAPERUNIT: this.state.tambahhargabarang,\r\n      KONVERSI: this.state.tambahKonversibarang,\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      TYPE: this.state.tambahtypebarang\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"Nama barang tidak boleh kosong\")\r\n    } else if(dataToSend.UNIT === \"\"){\r\n      alert(\"Unit barang tidak boleh kosong\")\r\n    } else if(dataToSend.SATUAN === \"\"){\r\n      alert(\"Satuan barang tidak boleh kosong\")\r\n    } else if(dataToSend.HARGAPERUNIT === \"\"){\r\n      alert(\"harga barang tidak boleh kosong\")\r\n    } else if(dataToSend.KONVERSI === \"\"){\r\n      alert(\"Konversi barang tidak boleh kosong\")\r\n    } else if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Vendor tidak boleh kosong\")\r\n    } else if(dataToSend.TYPE === \"\"){\r\n      alert(\"Type barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterBarangData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChanged = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Unit',\r\n        selector: 'unit_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan',\r\n        selector: 'satuan_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Harga perunit',\r\n        selector: 'harga_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Conversi',\r\n        selector: 'conversi_satuan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Type',\r\n        selector: 'type_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'vendor_name',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamabarang\">Nama barang</Label>\r\n                  <Input type=\"text\" name=\"tambahnamabarang\" id=\"tambahnamabarang\" value={this.state.tambahnamabarang} onChange={this.handleChange} placeholder=\"Nama barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahUnitbarang\">Unit barang</Label>\r\n                  <Input type=\"text\" name=\"tambahUnitbarang\" id=\"tambahUnitbarang\" value={this.state.tambahUnitbarang} onChange={this.handleChange} placeholder=\"Unit barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahsatuanbarang\">Satuan barang</Label>\r\n                  <Input type=\"text\" name=\"tambahsatuanbarang\" id=\"tambahsatuanbarang\" value={this.state.tambahsatuanbarang} onChange={this.handleChange} placeholder=\"Satuan barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahKonversibarang\">Konversi unit ke satuan</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"tambahKonversibarang\"\r\n                    id=\"tambahKonversibarang\"\r\n                    value={this.state.tambahKonversibarang}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Konversi barang\"\r\n                    min=\"1\"\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahhargabarang\">Harga barang perunit</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"tambahhargabarang\"\r\n                    id=\"tambahhargabarang\"\r\n                    value={this.state.tambahhargabarang}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Harga barang perunit\"\r\n                    min=\"0\"\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahtypebarang\">Type barang</Label>\r\n                  <Input type=\"select\" name=\"tambahtypebarang\" id=\"tambahtypebarang\" value={this.state.tambahtypebarang}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pilih type barang</option>\r\n                    <option value=\"RAW MATERIAL\">Raw material</option>\r\n                    <option value=\"WORK IN PROGRESS\">WORK IN PROGRESS</option>\r\n                    <option value=\"FINISHED GOODS\">Finished goods</option>\r\n                  </Input>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"prmVendor\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.vendorList}\r\n                    onChange={this.onSelectChanged.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabarang\">Nama barang</Label>\r\n                  <Input type=\"text\" name=\"editnamabarang\" id=\"editnamabarang\" value={this.state.editnamabarang} onChange={this.handleChange} placeholder=\"Nama barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editUnitbarang\">Unit barang</Label>\r\n                  <Input type=\"text\" name=\"editUnitbarang\" id=\"editUnitbarang\" value={this.state.editUnitbarang} onChange={this.handleChange} placeholder=\"Unit barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editsatuanbarang\">Satuan barang</Label>\r\n                  <Input type=\"text\" name=\"editsatuanbarang\" id=\"editsatuanbarang\" value={this.state.editsatuanbarang} onChange={this.handleChange} placeholder=\"Satuan barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editKonversibarang\">Konversi unit ke satuan</Label>\r\n                  <Input type=\"text\" name=\"editKonversibarang\" id=\"editKonversibarang\" value={this.state.editKonversibarang} onChange={this.handleChange} placeholder=\"Konversi barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"edithargabarang\">Harga barang perunit</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"edithargabarang\"\r\n                    id=\"edithargabarang\"\r\n                    value={this.state.edithargabarang}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Harga barang perunit\"\r\n                    min=\"0\"\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"edittypebarang\">Type barang</Label>\r\n                  <Input type=\"select\" name=\"edittypebarang\" id=\"edittypebarang\" value={this.state.edittypebarang}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pilih type barang</option>\r\n                    <option value=\"RAW MATERIAL\">Raw material</option>\r\n                    <option value=\"WORK IN PROGRESS\">WORK IN PROGRESS</option>\r\n                    <option value=\"FINISHED GOODS\">Finished goods</option>\r\n                  </Input>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahsatuanbarang\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.vendorList}\r\n                    onChange={this.onSelectChanged.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master barang</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterBarangList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                    {/* <DataTable\r\n                      columns={columns}\r\n                      data={this.state.masterBarangList}\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    /> */}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterBarang));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\receivepo.js",["493","494","495","496","497","498","499","500","501","502","503","504"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass receivepopage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataPOH:[],\r\n      dataPOD:[],\r\n      detailDataPO:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOpenPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOpenPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePOH: data.kode_purchase_order_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPOData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOD:result.data.dataPOD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataPO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      dataPOD:[],\r\n      detailDataPO:\"\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  handleChangeUnitReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataPOD\r\n    daftarBarang[IdData].unit_receive=event.target.value\r\n    let unitReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanReceive = daftarBarang[IdData].satua_receive==\"\"?0:parseInt(daftarBarang[IdData].satua_receive)\r\n    daftarBarang[IdData].qty_receive=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n    this.setState({\r\n      ...this.state,\r\n      dataPOD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeSatuanReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataPOD\r\n    let maxSatuan = parseInt(daftarBarang[IdData].konversi_barang)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      daftarBarang[IdData].satua_receive=event.target.value\r\n      let unitReceive = daftarBarang[IdData].unit_receive==\"\"?0:parseInt(daftarBarang[IdData].unit_receive)\r\n      let satuanReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      daftarBarang[IdData].qty_receive=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  terimaPO = () => {\r\n    const dataToSend = {\r\n        KODEEPOH: this.state.detailDataPO.kode_purchase_order_h,\r\n        PRMPAJAK: this.state.detailDataPO.taxParameter,\r\n        USER:this.props.userinfo.id_user,\r\n        DATAPOD:this.state.dataPOD\r\n    };\r\n    console.log(dataToSend);\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receivePO`, dataToSend, {\r\n    headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n    })\r\n    .then(async result => {\r\n        alert(\"PO berhasil diterima\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor PO',\r\n        selector: 'nomor_po',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail PO</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nomor_po} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal buat PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nama_vendor} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>UNIT Received</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>SATUAN Received</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataPOD.length > 0 && this.state.dataPOD.map((dataPOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPOD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataPOD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataPOD.qty}{dataPOD.unit_barang}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                        <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataPOD.unit_receive} onChange={this.handleChangeUnitReceive} min=\"0\" />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataPOD.unit_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                        <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataPOD.satua_receive} onChange={this.handleChangeSatuanReceive} min=\"0\" max={dataPOD.konversi_barang-1} />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataPOD.satuan_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{paddingBottom:30}}>\r\n              <Col>\r\n                <button className=\"my-btn full-widht\" onClick={(e) => { if (window.confirm('Apakah anda yakin akan menerima PO ini ?')) this.terimaPO(e) } }>Terima PO ini</button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar PO yang belum di terima</span>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPOH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(receivepopage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\stockReconciliation.js",["505","506","507","508","509","510","511","512","513","514","515","516"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataDummy from './dummyData'\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass stockReconciliation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // overlay state\r\n      prmoverlay:false,\r\n      // page state\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      masterUserList:[],\r\n      // add state\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n      PRMtambahPassoutlet:true,\r\n      // edit state\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n      PRMeditPassoutlet:true,\r\n    };\r\n  }\r\n  // page master function\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  // add data function\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmoverlay: true\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`https://api.jaygeegroupapp.com/hris`)\r\n    .then( async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        addUserList: result.data.dataToShow\r\n      });\r\n      this.setState({\r\n        ...this.state,\r\n        prmoverlay: false\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true,\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n      PRMtambahPassoutlet:true,\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NIK:this.state.tambahNikUser,\r\n      NAMA:this.state.tambahNamaUser,\r\n      AKSES:this.state.tambahAksesUser,\r\n      PASS:this.state.tambahPassUser\r\n    };\r\n    if(dataToSend.AKSES === \"\" || dataToSend.PASS === \"\"){\r\n      alert(\"Akses dan password user tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addUser`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedAddUser = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmAddUser: value,\r\n      tambahNikUser:value.value,\r\n      tambahNamaUser:value.nama\r\n    });\r\n  }\r\n  // edit data function\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodeuser:data.id_user,\r\n      editnikuser:data.nik,\r\n      editnamauser:data.nama_user,\r\n      editaksesuser:data.akses_page,\r\n      editpassuser:data.pass_user\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n      PRMeditPassoutlet:true,\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodeuser,\r\n      AKSES: this.state.editaksesuser,\r\n      PASS: this.state.editpassuser\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editUser`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  toogleTambahPass = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      PRMtambahPassoutlet:!this.state.PRMtambahPassoutlet\r\n    })\r\n  }\r\n  toogleEditPass = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      PRMeditPassoutlet:!this.state.PRMeditPassoutlet\r\n    })\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'NIK',\r\n        selector: 'nik',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama user',\r\n        selector: 'nama_user',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Akses',\r\n        selector: 'akses_page',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <div style={{visibility:this.state.prmoverlay==true?\"visible\":\"hidden\"}}>\r\n          <div className=\"overlayMask\">\r\n            <ScaleLoader\r\n              height={90}\r\n              width={20}\r\n              radius={10}\r\n              margin={10}\r\n              color={'#ffffff'}\r\n              loading={this.state.prmoverlay == true?true:false}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah user</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"prmAddUser\">Data User</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmAddUser\"\r\n                    value={this.state.prmAddUser}\r\n                    options={this.state.addUserList}\r\n                    onChange={this.onSelectChangedAddUser.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAksesUser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"tambahAksesUser\" id=\"tambahAksesUser\" value={this.state.tambahAksesUser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPassUser\">Password</Label>\r\n                  <InputGroup>\r\n                    <Input type={this.state.PRMtambahPassoutlet == true?\"password\":\"text\"} name=\"tambahPassUser\" id=\"tambahPassUser\" value={this.state.tambahPassUser} onChange={this.handleChange} placeholder=\"Password\" autoComplete=\"new-password\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"primary\" onClick={() => this.toogleTambahPass()}><i className={this.state.PRMeditPassoutlet == true?\"fa fa-eye fa-1x\":\"fa fa-eye-slash fa-1x\"} aria-hidden=\"true\"></i></Button>\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnikuser\">Nik</Label>\r\n                  <Input type=\"text\" name=\"editnikuser\" id=\"editnikuser\" value={this.state.editnikuser} onChange={this.handleChange} placeholder=\"Nik\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamauser\">Nama user</Label>\r\n                  <Input type=\"text\" name=\"editnamauser\" id=\"editnamauser\" value={this.state.editnamauser} onChange={this.handleChange} placeholder=\"Nama user\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editaksesuser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"editaksesuser\" id=\"editaksesuser\" value={this.state.editaksesuser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editpassuser\">Password</Label>\r\n                  <InputGroup>\r\n                    <Input type={this.state.PRMeditPassoutlet == true?\"password\":\"text\"} name=\"editpassuser\" id=\"editpassuser\" value={this.state.editpassuser} onChange={this.handleChange} placeholder=\"Password\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"primary\" onClick={() => this.toogleEditPass()}><i className={this.state.PRMeditPassoutlet == true?\"fa fa-eye fa-1x\":\"fa fa-eye-slash fa-1x\"} aria-hidden=\"true\"></i></Button>\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Stock Reconciliation</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterUserList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(stockReconciliation));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dummyProductData.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\pembelian.js",["517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass pembelian extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:0,\r\n      tambahunitqtybarang:0,\r\n      tambahsatuanqtybarang:0,\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      listAddBarang:[],\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      dataPembelianH:[],\r\n      dataPembelianD:[],\r\n      detailDataOrder:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPembelianH`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianH: result.data.dataPembelianH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPembelianH`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianH: result.data.dataPembelianH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddPembelianCK`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        prmOutlet: result.data.dataOutlet[0],\r\n        masterBarangList: result.data.dataMasterBarang\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:0,\r\n      tambahunitqtybarang:0,\r\n      tambahsatuanqtybarang:0,\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePembelianH: data.kode_pembelian_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPembelian`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianD:result.data.pembelianList\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataOrder:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\"){\r\n      alert(\"Item Pembelian tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybarang == 0){\r\n      alert(\"Qty Pembelian tidak boleh kosong\")\r\n    } else if(this.state.tambahhargabarang == 0 || this.state.tambahhargabarang == \"\"){\r\n      alert(\"Harga Pembelian tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let qtyPembelian =parseInt(this.state.tambahqtybarang)\r\n        let convertionQtyPembelian =parseInt(this.state.prmBarang.conversi)\r\n        let qtyPembelianProcessA = Math.floor(qtyPembelian/convertionQtyPembelian)\r\n        let qtyPembelianProcessB = qtyPembelian%convertionQtyPembelian\r\n        let qtyPembelianToShow = qtyPembelianProcessA+\".\"+qtyPembelianProcessB\r\n        let dataTopush = {\r\n          kode_barang:`${this.state.tambahkodebarang}`,\r\n          nama_barang:`${this.state.tambahnamabarang}`,\r\n          qty:`${this.state.tambahqtybarang}`,\r\n          qtyToShow:`${qtyPembelianToShow}`,\r\n          unit:`${this.state.prmBarang.unit}`,\r\n          satuan:`${this.state.prmBarang.satuan}`,\r\n          harga:`${this.state.tambahhargabarang}`\r\n        }\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:0,\r\n          tambahunitqtybarang:0,\r\n          tambahsatuanqtybarang:0,\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      } else {\r\n        alert(\"Item sudah ada di list item pembelian\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:0,\r\n          tambahunitqtybarang:0,\r\n          tambahsatuanqtybarang:0,\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.nama_barang,\r\n      tambahsatuanbarang:value.satuan\r\n    });\r\n  }\r\n  submitData = () => {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n        IDOUTLET: prmOUTLET,\r\n        TANGGALBELI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        ADDDATA: this.state.listAddBarang\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.IDOUTLET === \"\"){\r\n      alert(\"data outlet tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    }else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addDataPembelianCK`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        // window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChangeUnitOrder = event =>  {\r\n    let unitOrder = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanOrder = this.state.tambahsatuanqtybarang==\"\"?0:parseInt(this.state.tambahsatuanqtybarang)\r\n    let newTambahQty=parseInt(satuanOrder)+(parseInt(unitOrder)*parseInt(this.state.prmBarang.conversi))\r\n    this.setState({\r\n      ...this.state,\r\n      tambahqtybarang:newTambahQty,\r\n      tambahunitqtybarang:event.target.value\r\n    });\r\n  }\r\n  handleChangeSatuanOrder = event =>  {\r\n    let maxSatuan = parseInt(this.state.prmBarang.conversi)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      let unitOrder = this.state.tambahunitqtybarang==\"\"?0:parseInt(this.state.tambahunitqtybarang)\r\n      let satuanOrder = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      let newTambahQty=parseInt(satuanOrder)+(parseInt(unitOrder)*parseInt(this.state.prmBarang.conversi))\r\n      this.setState({\r\n        ...this.state,\r\n        tambahqtybarang:newTambahQty,\r\n        tambahsatuanqtybarang:event.target.value\r\n      });\r\n    }\r\n  }\r\n  updateData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      IDDelivery:this.state.detailDataOrder.kode_delivery_order,\r\n      IDOrder:this.state.detailDataOrder.kode_order_h,\r\n      USER:this.props.userinfo.id_user,\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receiveOrder`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Receive order ini\",\r\n      });\r\n      alert(\"Order ini berhasil di receive\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor pembelian',\r\n        selector: 'nomor_pembelian',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal beli',\r\n        selector: 'tanggal_beli',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembelian</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.prmOutlet.label} onChange={this.handleChange} placeholder=\"-\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pembelian</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"-\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Item order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Unit order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Satuan order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Harga beli</span>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                    <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmBarang\"\r\n                    value={this.state.prmBarang}\r\n                    options={this.state.masterBarangList}\r\n                    onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                    placeholder=\"Pilih Barang\"\r\n                    />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                {/* <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" /> */}\r\n                <InputGroup>\r\n                  <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahunitbarang\" id=\"tambahunitbarang\" value={this.state.tambahunitqtybarang} onChange={this.handleChangeUnitOrder} min=\"0\" />\r\n                  <InputGroupAddon addonType=\"append\">\r\n                    <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.unit == undefined?\"---\":this.state.prmBarang.unit}</span></InputGroupText>\r\n                  </InputGroupAddon>\r\n                </InputGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                {/* <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span> */}\r\n                <InputGroup>\r\n                  <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahsatuanqtybarang\" id=\"tambahsatuanqtybarang\" value={this.state.tambahsatuanqtybarang} onChange={this.handleChangeSatuanOrder} min=\"0\" />\r\n                  <InputGroupAddon addonType=\"append\">\r\n                    <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span></InputGroupText>\r\n                  </InputGroupAddon>\r\n                </InputGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                    <Input type=\"number\" name=\"tambahhargabarang\" id=\"tambahhargabarang\" value={this.state.tambahhargabarang} onChange={this.handleChange} placeholder=\"Harga\" min=\"0\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qtyToShow}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{`${listAddBarang.unit}.${listAddBarang.satuan}`}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.harga}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Pembelian</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Pembelian</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nomor_pembelian} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Pembelian</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.tanggal_beli} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataPembelianD.length > 0 && this.state.dataPembelianD.map((dataPembelianD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{`${dataPembelianD.unit_barang}.${dataPembelianD.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.harga}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {\r\n              this.state.detailDataOrder.status_order == \"SEND\" ?\r\n              <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                  <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan mereceive order ini ?')) this.updateData() } }>\r\n                    <ScaleLoader\r\n                      height={18}\r\n                      width={4}\r\n                      radius={2}\r\n                      margin={2}\r\n                      color={'#FFFFFF'}\r\n                      loading={this.state.buttonEditPrm}\r\n                    />\r\n                    {this.state.buttonEditText}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              :\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Pembelian</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPembelianH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(pembelian));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\betweenTransferIn.js",["537","538","539","540","541","542","543","544","545","546","547","548","549"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass transferIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataTIN:[],\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Terima transfer ini\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferinData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTIN: result.data.dataTransferin,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferinData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTIN: result.data.dataTransferin,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeTO: data.kode_between_transfer\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTOD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataTO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Terima transfer ini\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  handleChangeDataOrderD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataTOD\r\n    daftarBarang[IdData].qty_receive=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataTOD: daftarBarang\r\n    });\r\n  }\r\n  terimaPO = () => {\r\n    const dataToSend = {\r\n        KODEEPOH: this.state.detailDataTO.kode_purchase_order_h,\r\n        USER:this.props.userinfo.id_user,\r\n        dataTOD:this.state.dataTOD\r\n    };\r\n    console.log(dataToSend);\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n    axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receivePO`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        alert(\"PO berhasil diterima\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n  }\r\n  updateData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      ID:this.state.detailDataTO.kode_between_transfer,\r\n      USER:this.props.userinfo.id_user,\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receiveTransferOutCK`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Terima transfer ini\"\r\n      });\r\n      alert(\"Transfer out ini berhasil di receive\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Transfer Out',\r\n        selector: 'nomor_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Transfer Out',\r\n        selector: 'tanggal_kirim_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan Pengiriman',\r\n        selector: 'nama_outlet_penerima',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status Transfer Out',\r\n        selector: 'between_transfer_state',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note',\r\n        selector: 'note_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Transfer In</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nomor_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.tanggal_kirim_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Pengirim</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_pengirim} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Penerima</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_penerima} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Status Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.between_transfer_state} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              {\r\n                this.state.detailDataTO.between_transfer_state == \"RECEIVED\" ?\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                  <FormGroup>\r\n                    <Label>Tanggal Receive</Label>\r\n                    <Input type=\"text\" value={this.state.detailDataTO.tanggal_terima_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                  </FormGroup>\r\n                </Col>\r\n                :\"\"\r\n              }\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataTO.note_transfer} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataTOD.length > 0 && this.state.dataTOD.map((dataTOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataTOD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {\r\n              this.state.detailDataTO.between_transfer_state == \"OPEN\" ?\r\n              <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                  <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan mereceive order ini ?')) this.updateData() } }>\r\n                    <ScaleLoader\r\n                      height={18}\r\n                      width={4}\r\n                      radius={2}\r\n                      margin={2}\r\n                      color={'#FFFFFF'}\r\n                      loading={this.state.buttonEditPrm}\r\n                    />\r\n                    {this.state.buttonEditText}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              :\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Transfer In List</span>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataTIN}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(transferIn));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\betweenTransferOut.js",["550","551","552","553","554","555","556","557","558"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\r\n\r\nclass transferOut extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      addNote:\"\",\r\n      prmModaledit:false,\r\n      prmOutletPengirim:\"\",\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataTransferOut:[],\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTransferOut: result.data.dataTransferout,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTransferOut: result.data.dataTransferout,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormTOCK`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        prmOutletPengirim:result.data.nama_outlet,\r\n        masterBarangList: result.data.dataMasterBarang,\r\n        masterOutletList: result.data.dataOutlet\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      addNote:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      addNote:\"\",\r\n      listAddBarang:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutletPengirim:\"\",\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeTO: data.kode_between_transfer\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTOD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataTO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\"\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybarang === 0 || this.state.tambahqtybarang === \"0\"){\r\n      alert(\"Qty tidak boleh 0(NOL)\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        alert(\"Data barang sudah ada di list barang yang akan di transfer\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        // let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        // let qtyAwal = daftarBarang[indexArray].qty\r\n        // let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        // daftarBarang[indexArray].qty=qtyAkhir\r\n        // this.setState({\r\n        //   ...this.state,\r\n        //   listAddBarang: daftarBarang,\r\n        //   tambahkodebarang:\"\",\r\n        //   tambahnamabarang:\"\",\r\n        //   tambahsatuanbarang:\"\",\r\n        //   tambahqtybarang:\"\",\r\n        //   tambahhargabarang:\"\",\r\n        //   prmBarang:\"\"\r\n        // });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  handleChangeQtyTransfer = event =>  {\r\n    parseInt(event.target.value) > parseInt(this.state.prmBarang.qty_in_stok)\r\n    ?\r\n    alert(\"Qty yang anda input melebihi stok\"):\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterVendor = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.unit\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  submitData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      OUTLETPENGIRIM: PRMOUTLET,\r\n      OUTLETTUJUAN: this.state.tambahkodeoutlet,\r\n      TANGGALTO: this.state.dateForm,\r\n      USER:this.props.userinfo.id_user,\r\n      ADDDATA: this.state.listAddBarang,\r\n      ADDNOTE: this.state.addNote\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if (this.state.prmOutlet === \"\"){\r\n      alert(\"Outlet penerima tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormTOCK`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/transferOutPrint?ID=${result.data.kodeTO}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  datepickerHandleChange = date => {\r\n    this.setState({\r\n      ...this.state,\r\n      tanggalKirim: date\r\n    });\r\n  };\r\n  render() {\r\n    // console.log(this.state.prmBarang.unit);\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Transfer Out',\r\n        selector: 'nomor_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Transfer Out',\r\n        selector: 'tanggal_kirim_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan Pengiriman',\r\n        selector: 'nama_outlet_penerima',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status Transfer Out',\r\n        selector: 'between_transfer_state',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note',\r\n        selector: 'note_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Transfer Out Form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"prmOutletPengirim\">Outlet Pengirim</Label>\r\n                  <Input type=\"text\" name=\"prmOutletPengirim\" id=\"prmOutletPengirim\" value={this.state.prmOutletPengirim} onChange={this.handleChange} placeholder=\"Outlet pengirim\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet Penerima</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih tujuan kirim\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10,paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Barang Transfer</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmBarang\"\r\n                    value={this.state.prmBarang}\r\n                    options={this.state.masterBarangList}\r\n                    onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                    placeholder=\"Pilih Barang\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Qty In Stok</Label><br/>\r\n                  <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.qty_in_stok == undefined?\"---\":this.state.prmBarang.qty_in_stok}</span>\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Qty Transfer</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"tambahqtybarang\"\r\n                    id=\"tambahqtybarang\"\r\n                    value={this.state.tambahqtybarang}\r\n                    onChange={this.handleChangeQtyTransfer}\r\n                    placeholder=\"Qty\"\r\n                    min=\"0\"\r\n                    max={this.state.prmBarang.qty_in_stok}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Satuan</Label><br/>\r\n                  <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span>\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>UNIT</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Transfer Out</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nomor_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.tanggal_kirim_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Pengirim</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_pengirim} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Penerima</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_penerima} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Status Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.between_transfer_state} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              {\r\n                this.state.detailDataTO.between_transfer_state == \"RECEIVED\" ?\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                  <FormGroup>\r\n                    <Label>Tanggal Receive</Label>\r\n                    <Input type=\"text\" value={this.state.detailDataTO.tanggal_terima_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                  </FormGroup>\r\n                </Col>\r\n                :\"\"\r\n              }\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataTO.note_transfer} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataTOD.length > 0 && this.state.dataTOD.map((dataTOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataTOD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Transfer Out List</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataTransferOut}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(transferOut));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\order.js",["559","560","561","562","563"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass order extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      listAddBarang:[],\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      dataOrderH:[],\r\n      dataOrderD:[],\r\n      detailDataOrder:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderH: result.data.dataOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderH: result.data.dataOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddOrder`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.dataOutlet,\r\n        masterBarangList: result.data.dataMasterBarang\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      listAddBarang:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeOrderH: data.kode_order_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataOrder:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\"\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      } else {\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.satuan\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        IDOUTLET: this.state.tambahkodeoutlet,\r\n        TANGGALORDER: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        ADDDATA: this.state.listAddBarang\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.OUTLETCODE === \"\"){\r\n      alert(\"data outlet tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    }else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormOrderData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status order',\r\n        selector: 'status_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pengajuan order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet yang mengajukan order</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih Outlet yang mengajukan order\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat order</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10,paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"5\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarang\"\r\n                  value={this.state.prmBarang}\r\n                  options={this.state.masterBarangList}\r\n                  onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"5\">\r\n                <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail ORDER</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nomor_order} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal buat order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet yang mengajukan order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nama_outlet} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataOrderD.length > 0 && this.state.dataOrderD.map((dataOrderD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.qty_req}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataOrderH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(order));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productout.js",["564","565","566","567","568","569","570","571","572","573"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass productout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Proses delivery order\",\r\n      prmModaledit:false,\r\n      prmOrder:\"\",\r\n      masterOrderList:[],\r\n      tambahkodeOrder:\"\",\r\n      kodeOrderh:\"\",\r\n      dataOrderD:[],\r\n      dateForm:\"\",\r\n      dataDeliveryOrderH:[],\r\n      dataDeliveryOrderD:[],\r\n      detailDataDeliveryOrder:\"\",\r\n      // state detail delivery order\r\n      detailViewOutletTujuan:\"\",\r\n      detailViewNomorDO:\"\",\r\n      detailViewTanggalPengiriman:\"\",\r\n      detailViewNomorOrder:\"\",\r\n      detailViewTanggalOrder:\"\",\r\n      detailViewDataDO:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDeliveryOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataDeliveryOrderH: result.data.dataDeliveryOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDeliveryOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataDeliveryOrderH: result.data.dataDeliveryOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderOption`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOrderList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dataOrderD:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Proses delivery order\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      dataOrderD:[],\r\n      prmOrder:\"\",\r\n      masterOrderList:[],\r\n      tambahkodeOrder:\"\",\r\n      dateForm:\"\",\r\n      kodeOrderh:\"\",\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      KODEDO: data.kode_delivery_order\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDeliveryOrderDetail`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( async result => {\r\n      console.log();\r\n      await this.setState({\r\n        ...this.state,\r\n        prmModaledit: true,\r\n        // state detail delivery order\r\n        detailViewOutletTujuan:result.data.outlet_tujuan,\r\n        detailViewNomorDO:result.data.nomor_delivery_order,\r\n        detailViewTanggalPengiriman:result.data.tanggal_kirim,\r\n        detailViewNomorOrder:result.data.nomor_order,\r\n        detailViewTanggalOrder:result.data.tanggal_order,\r\n        detailViewDataDO:result.data.dataDeliveryOrderD,\r\n      });\r\n      await this.setState({\r\n        ...this.state,\r\n        loadingParam:\"none\"\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      // state detail delivery order\r\n      detailViewOutletTujuan:\"\",\r\n      detailViewNomorDO:\"\",\r\n      detailViewTanggalPengiriman:\"\",\r\n      detailViewNomorOrder:\"\",\r\n      detailViewTanggalOrder:\"\",\r\n      detailViewDataDO:[],\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\" || this.state.tambahhargabarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataOrderD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`,harga:`${this.state.tambahhargabarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.dataOrderD\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      dataOrderD: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  // minusOrderData = async (keyArray) => {\r\n  //   let daftarBarang = this.state.dataOrderD\r\n  //   let qtyAwal = daftarBarang[keyArray].qty_send\r\n  //   if(qtyAwal>0){\r\n  //     let qtyAkhir = parseInt(qtyAwal)-1\r\n  //     daftarBarang[keyArray].qty_send=qtyAkhir\r\n  //     this.setState({\r\n  //       ...this.state,\r\n  //       dataOrderD: daftarBarang\r\n  //     });\r\n  //   }\r\n  // }\r\n  // plusOrderData = async (keyArray) => {\r\n  //   let daftarBarang = this.state.dataOrderD\r\n  //   let qtyAwal = daftarBarang[keyArray].qty_send\r\n  //   let qtyAkhir = parseInt(qtyAwal)+1\r\n  //   daftarBarang[keyArray].qty_send=qtyAkhir\r\n  //   this.setState({\r\n  //     ...this.state,\r\n  //     dataOrderD: daftarBarang\r\n  //   });\r\n  // }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  handleChangeDataOrderD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    if(parseInt(event.target.value) > parseInt(maxSend)){\r\n      alert(\"jumlah yang di input melebihi stok\")\r\n    } else {\r\n      daftarBarang[IdData].qty_send=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterOrder = async (value) => {\r\n    const dataToSend = {\r\n      kodeOrderH:value.value\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        kodeOrderh:value.value,\r\n        prmOrder: value,\r\n        dataOrderD:result.data.orderList\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.satuan\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.dataOrderD\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  handleChangeunitSend = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let unitSend = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanSend = daftarBarang[IdData].satuan_qty_send==\"\"?0:parseInt(daftarBarang[IdData].satuan_qty_send)\r\n    let cekHasilqty_send = parseInt(satuanSend)+(parseInt(unitSend)*parseInt(daftarBarang[IdData].konversi_barang))\r\n    if(cekHasilqty_send>parseInt(daftarBarang[IdData].qty_in_inventory)){\r\n      alert(\"qty yang anda input melebihi stok\")\r\n    } else {\r\n        daftarBarang[IdData].unit_qty_send=event.target.value\r\n        daftarBarang[IdData].qty_send=parseInt(satuanSend)+(parseInt(unitSend)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  handleChangesatuanSend = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let maxSatuan = parseInt(daftarBarang[IdData].konversi_barang)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      let unitSend = daftarBarang[IdData].unit_qty_send==\"\"?0:parseInt(daftarBarang[IdData].unit_qty_send)\r\n      let satuanSend = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      let cekHasilqty_send = parseInt(satuanSend)+(parseInt(unitSend)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      if(cekHasilqty_send>parseInt(daftarBarang[IdData].qty_in_inventory)){\r\n        alert(\"qty yang anda input melebihi stok\")\r\n      } else {\r\n        daftarBarang[IdData].satuan_qty_send=event.target.value\r\n        daftarBarang[IdData].qty_send=parseInt(satuanSend)+(parseInt(unitSend)*parseInt(daftarBarang[IdData].konversi_barang))\r\n        this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang\r\n        });\r\n      }\r\n    }\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n      TANNGALKIRIM:this.state.dateForm,\r\n      USER:this.props.userinfo.id_user,\r\n      KODEORDER:this.state.kodeOrderh,\r\n      DATAORDERD:this.state.dataOrderD\r\n    };\r\n    if(this.state.prmOrder === \"\"){\r\n      alert(\"Data order tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormDeliveryOrder`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Proses delivery order\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/deliveryOrderPrint?ID=${result.data.kodeDeliveryOrderH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Delivery Order',\r\n        selector: 'nomor_delivery_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Kirim',\r\n        selector: 'tanggal_kirim',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nomor Order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan',\r\n        selector: 'outlet_tujuan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembuatan delivery order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat delivery order</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat delivery order\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Daftar order</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOrder\"\r\n                    value={this.state.prmOrder}\r\n                    options={this.state.masterOrderList}\r\n                    onChange={this.onSelectChangedMasterOrder.bind(this)}\r\n                    placeholder=\"Pilih data order\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY REQ</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY STOK</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>UNIT SEND</span></Col>\r\n              <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>SATUAN SEND</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataOrderD.length > 0 && this.state.dataOrderD.map((dataOrderD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.kode_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{`${dataOrderD.qty_req_ToShow} ${dataOrderD.unit_barang}.${dataOrderD.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{`${dataOrderD.qty_in_inventory_ToShow} ${dataOrderD.unit_barang}.${dataOrderD.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                        <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataOrderD.unit_qty_send} onChange={this.handleChangeunitSend} min=\"0\" />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataOrderD.unit_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                    <Col xs=\"2\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <InputGroup>\r\n                      <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataOrderD.satuan_qty_send} onChange={this.handleChangesatuanSend} min=\"0\" max={dataOrderD.konversi_barang-1} />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataOrderD.satuan_barang}</span></InputGroupText>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <button className=\"myBtn\" onClick={() => \r\n            window.open(`${process.env.REACT_APP_PRINT}/#/prepareDeliveryOrderPrint?ID=${this.state.kodeOrderh}`, \"_blank\")\r\n            } style={{visibility:this.state.dataOrderD.length > 0?\"visible\":\"hidden\"}}>\r\n              <i className=\"fa fa-print fa-2x\" aria-hidden=\"true\"></i>\r\n            </button>\r\n            <Button color=\"success\" onClick={() => { if (window.confirm('Apakah anda yakin akan menyelesaikan proses ini ?')) this.submitData() }}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Delivery Order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Outlet Tujuan</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>: {this.state.detailViewOutletTujuan}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Nomor Order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewNomorOrder}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Nomor DO</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewNomorDO}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Tanggal Order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewTanggalOrder}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Tanggal Pengiriman</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewTanggalPengiriman}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\",marginTop:\"2vh\"}}>\r\n              <Col xs=\"2\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"4\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>QTY Req</span></Col>\r\n              <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>QTY Send</span></Col>\r\n              <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>QTY Received</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.detailViewDataDO.length > 0 && this.state.detailViewDataDO.map((detailViewDataDO,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.kode_barang}</span></Col>\r\n                    <Col xs=\"4\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.nama_barang}</span></Col>\r\n                    <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{`${detailViewDataDO.qty_req_toShow} ${detailViewDataDO.unit_barang}.${detailViewDataDO.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{`${detailViewDataDO.qty_send_toShow} ${detailViewDataDO.unit_barang}.${detailViewDataDO.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{`${detailViewDataDO.qty_receive_toShow} ${detailViewDataDO.unit_barang}.${detailViewDataDO.satuan_barang}`}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar Delivery order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataDeliveryOrderH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productout));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\report.js",["574","575","576","577","578"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\n\r\nclass reportPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        prmModalInventoryBreakdown:false,\r\n    };\r\n  }\r\n  // inventory breakdown function\r\n  modalCurrentStockOpen = () =>  {\r\n    this.setState({\r\n        ...this.state,\r\n        prmModalInventoryBreakdown: true\r\n    });\r\n  }\r\n  modalCurrentStockClose = () =>  {\r\n    this.setState({\r\n        ...this.state,\r\n        prmModalInventoryBreakdown: false\r\n    });\r\n  }\r\n  // inventory breakdown function\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModalInventoryBreakdown} backdrop={\"static\"} size=\"xl\">\r\n            <ModalHeader toggle={() => this.modalCurrentStockClose()}>Current stock</ModalHeader>\r\n            <ModalBody>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n            <Button color=\"success\" onClick={() => window.open(\"http://localhost:3000/testreport\", \"_blank\")}>Open Report</Button>\r\n            <Button color=\"danger\" onClick={() => this.modalCurrentStockClose()}>Cancel</Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <div className=\"card\" style={{marginTop:15}}>\r\n                  <div className=\"card-header\">\r\n                    <Row>\r\n                      <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>Report list</span>\r\n                      </Col>\r\n                    </Row>\r\n                  </div>\r\n                  <div className=\"card-body\" style={{minHeight:\"55vh\"}}>\r\n                    <Button color=\"secondary\" block={true} onClick={() => this.modalCurrentStockOpen()}>Current stock</Button>\r\n                    <Button color=\"secondary\" block={true} onClick={() => window.open(\"http://localhost:3000/purchaseOrderPrint\", \"_blank\")}>Report 2</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 3</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 4</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 5</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 6</Button>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(reportPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\user.js",["579","580","581","582","583","584","585","586","587","588","589"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataDummy from './dummyData'\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass user extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // overlay state\r\n      prmoverlay:false,\r\n      // page state\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      masterUserList:[],\r\n      // add state\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n      PRMtambahPassoutlet:true,\r\n      // edit state\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n      PRMeditPassoutlet:true,\r\n    };\r\n  }\r\n  // page master function\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  // add data function\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmoverlay: true\r\n    });\r\n        axios\r\n        .get(`https://api.jaygeegroupapp.com/hris`)\r\n    .then( async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        addUserList: result.data.dataToShow\r\n      });\r\n      this.setState({\r\n        ...this.state,\r\n        prmoverlay: false\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true,\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n      PRMtambahPassoutlet:true,\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NIK:this.state.tambahNikUser,\r\n      NAMA:this.state.tambahNamaUser,\r\n      AKSES:this.state.tambahAksesUser,\r\n      PASS:this.state.tambahPassUser\r\n    };\r\n    if(dataToSend.AKSES === \"\" || dataToSend.PASS === \"\"){\r\n      alert(\"Akses dan password user tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addUser`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedAddUser = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmAddUser: value,\r\n      tambahNikUser:value.value,\r\n      tambahNamaUser:value.nama\r\n    });\r\n  }\r\n  // edit data function\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodeuser:data.id_user,\r\n      editnikuser:data.nik,\r\n      editnamauser:data.nama_user,\r\n      editaksesuser:data.akses_page,\r\n      editpassuser:data.pass_user\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n      PRMeditPassoutlet:true,\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodeuser,\r\n      AKSES: this.state.editaksesuser,\r\n      PASS: this.state.editpassuser\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editUser`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  toogleTambahPass = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      PRMtambahPassoutlet:!this.state.PRMtambahPassoutlet\r\n    })\r\n  }\r\n  toogleEditPass = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      PRMeditPassoutlet:!this.state.PRMeditPassoutlet\r\n    })\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'NIK',\r\n        selector: 'nik',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama user',\r\n        selector: 'nama_user',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Akses',\r\n        selector: 'akses_page',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <div style={{visibility:this.state.prmoverlay==true?\"visible\":\"hidden\"}}>\r\n          <div className=\"overlayMask\">\r\n            <ScaleLoader\r\n              height={90}\r\n              width={20}\r\n              radius={10}\r\n              margin={10}\r\n              color={'#ffffff'}\r\n              loading={this.state.prmoverlay == true?true:false}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah user</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"prmAddUser\">Data User</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmAddUser\"\r\n                    value={this.state.prmAddUser}\r\n                    options={this.state.addUserList}\r\n                    onChange={this.onSelectChangedAddUser.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAksesUser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"tambahAksesUser\" id=\"tambahAksesUser\" value={this.state.tambahAksesUser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPassUser\">Password</Label>\r\n                  <InputGroup>\r\n                    <Input type={this.state.PRMtambahPassoutlet == true?\"password\":\"text\"} name=\"tambahPassUser\" id=\"tambahPassUser\" value={this.state.tambahPassUser} onChange={this.handleChange} placeholder=\"Password\" autoComplete=\"new-password\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"primary\" onClick={() => this.toogleTambahPass()}><i className={this.state.PRMeditPassoutlet == true?\"fa fa-eye fa-1x\":\"fa fa-eye-slash fa-1x\"} aria-hidden=\"true\"></i></Button>\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnikuser\">Nik</Label>\r\n                  <Input type=\"text\" name=\"editnikuser\" id=\"editnikuser\" value={this.state.editnikuser} onChange={this.handleChange} placeholder=\"Nik\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamauser\">Nama user</Label>\r\n                  <Input type=\"text\" name=\"editnamauser\" id=\"editnamauser\" value={this.state.editnamauser} onChange={this.handleChange} placeholder=\"Nama user\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editaksesuser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"editaksesuser\" id=\"editaksesuser\" value={this.state.editaksesuser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editpassuser\">Password</Label>\r\n                  <InputGroup>\r\n                    <Input type={this.state.PRMeditPassoutlet == true?\"password\":\"text\"} name=\"editpassuser\" id=\"editpassuser\" value={this.state.editpassuser} onChange={this.handleChange} placeholder=\"Password\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"primary\" onClick={() => this.toogleEditPass()}><i className={this.state.PRMeditPassoutlet == true?\"fa fa-eye fa-1x\":\"fa fa-eye-slash fa-1x\"} aria-hidden=\"true\"></i></Button>\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>User Management</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterUserList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(user));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\masterPlu.js",["590","591","592","593","594","595","596","597","598","599","600","601","602","603"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass masterPlu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataPLUH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataPLU:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      // prmBarangSisa:\"\",\r\n      // masterBarangSisaList:[],\r\n      // tambahkodebarangsisa:\"\",\r\n      // tambahnamabarangsisa:\"\",\r\n      // tambahsatuanbarangsisa:\"\",\r\n      // tambahprmbarangsisa:\"\",\r\n      // tambahopsicost:\"\",\r\n      // listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      // prmBarangHasil:\"\",\r\n      // masterBarangHasilList:[],\r\n      // tambahkodebaranghasil:\"\",\r\n      tambahnamaplu:\"\",\r\n      // tambahsatuanbaranghasil:\"\",\r\n      // tambahqtybaranghasil:\"\",\r\n      // listAddBarangHasil:[],\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    };\r\n  }\r\n  componentDidMount = async () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterPLU`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPLUH: result.data.dataPLUH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterPLU`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPLUH: result.data.dataPLUH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddMasterProduksi`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarang,\r\n        masterBarangSisaList: result.data.dataMasterBarang,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamaplu:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamaplu:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDPLU: data.id_plu\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailMasterPLU`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataDetailPLU,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataPLU:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      dataProduksiHasilD:[],\r\n      dataProduksiPakaiD:[],\r\n      detailDataPLU:\"\",\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n      editnamaplu:\"\",\r\n      editnomorplu:\"\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n      NAMAPLU:this.state.tambahnamaplu,\r\n      DETAILPLU: this.state.listAddBarangPakai\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    if (this.state.tambahnamaplu == \"\"){\r\n      alert(\"Nama PLU tidak boleh kosong\")\r\n    } else if (cekAddDataBarangPakai < 1){\r\n      alert(\"Detail komponen PLU tidak boleh kosong\")\r\n    }  else {\r\n      console.log(dataToSend);\r\n        this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:true,\r\n            buttonAddText:\"\"\r\n        });\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterPLU`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n          await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n          });\r\n          alert(\"data berhasil Ditambahkan\")\r\n          await this.modalAddClose()\r\n          this.refreshPageData()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            console.log(this.props);\r\n        });\r\n    }\r\n  }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamaplu:value.nama_barang,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\"){\r\n      alert(\"barang hasil produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil == \"\"){\r\n      alert(\"qty barang hasil produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamaplu}`,satuan:`${this.state.tambahsatuanbaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`}\r\n      await daftarBarang.push(dataTopush)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangHasil: daftarBarang,\r\n        prmBarangHasil:\"\",\r\n        tambahkodebaranghasil:\"\",\r\n        tambahnamaplu:\"\",\r\n        tambahsatuanbaranghasil:\"\",\r\n        tambahqtybaranghasil:\"\",\r\n      });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang\r\n    });\r\n  }\r\n  // function barang pakai produksi\r\n  onSelectChangedMasterBarangPakai = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakai: value,\r\n      tambahkodebarangpakai:value.value,\r\n      tambahnamabarangpakai:value.nama_barang,\r\n      tambahsatuanbarangpakai:value.satuan,\r\n    });\r\n  }\r\n  addDataPakai = async () => {\r\n    if(this.state.tambahkodebarangpakai === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangPakai\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakai = async (keyArray) => {\r\n    // let daftarBarang = this.state.listAddBarangPakai\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   listAddBarangPakai: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.listAddBarangPakai\r\n    let daftarBarangSisa = this.state.listAddBarangSisa\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisa(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  handleChangeDatapakaiQTYD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiCOSTD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].cost=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisa = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisa: value,\r\n      tambahkodebarangsisa:value.value,\r\n      tambahnamabarangsisa:value.nama_barang,\r\n      tambahsatuanbarangsisa:value.satuan,\r\n    });\r\n  }\r\n  addDataSisa = async () => {\r\n    if(this.state.tambahkodebarangsisa === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisa === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahopsicost === \"\"){\r\n        alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangSisa\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,prm:`${this.state.tambahprmbarangsisa}`,opsicost:`${this.state.tambahopsicost}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisa = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  // function edit barang pakai produksi\r\n  onSelectChangedMasterBarangPakaiE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakaiE: value,\r\n      tambahkodebarangpakaiE:value.value,\r\n      tambahnamabarangpakaiE:value.nama_barang,\r\n      tambahsatuanbarangpakaiE:value.satuan,\r\n    });\r\n  }\r\n  addDataPakaiE = async () => {\r\n    if(this.state.tambahkodebarangpakaiE === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiPakaiD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakaiE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakaiE}`,nama_barang:`${this.state.tambahnamabarangpakaiE}`,satuan_barang:`${this.state.tambahsatuanbarangpakaiE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakaiE = async (keyArray) => {\r\n    // let daftarBarang = this.state.dataProduksiPakaiD\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   dataProduksiPakaiD: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.dataProduksiPakaiD\r\n    let daftarBarangSisa = this.state.dataProduksiSisaD\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisaE(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisaE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisaE: value,\r\n      tambahkodebarangsisaE:value.value,\r\n      tambahnamabarangsisaE:value.nama_barang,\r\n      tambahsatuanbarangsisaE:value.satuan,\r\n    });\r\n  }\r\n  addDataSisaE = async () => {\r\n    if(this.state.tambahkodebarangsisaE === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisaE === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahkonversionratebarangsisaE === \"\"){\r\n        alert(\"satuan konversi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiSisaD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisaE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {\r\n        kode_barang:`${this.state.tambahkodebarangsisaE}`,\r\n        nama_barang_sisa:`${this.state.tambahnamabarangsisaE}`,\r\n        prm_kode_barang_pakai:`${this.state.tambahprmbarangsisaE}`,\r\n        conversion_rate:`${this.state.tambahkonversionratebarangsisaE}`,\r\n        satuan_barang_sisa:`${this.state.tambahsatuanbarangsisaE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisaE = async (keyArray) => {\r\n    let daftarBarang = this.state.dataProduksiSisaD\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      dataProduksiSisaD: daftarBarang\r\n    });\r\n  }\r\n  // function update master produksi\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDPLU:this.state.detailDataPLU.id_plu\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/updateMasterPLU`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"NONACTIVATE\",\r\n      });\r\n      alert(\"Data master plu berhasil di nonaktifkan\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  // function delete master produksi\r\n  deleteData = (data) => {\r\n    const dataToSend = {\r\n      ID: data.kode_master_produksi_h,\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/deleteMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      alert(\"data berhasil dihapus\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n        {/* <button className=\"myBtn\" onClick={() => { if (window.confirm('Apakah anda yakin akan menghapus master produksi ini ?')) this.deleteData(data) } }><i className=\"fa fa-trash fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor PLU',\r\n        selector: 'nomor_plu',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama PLU',\r\n        selector: 'nama_plu',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form Master PLU</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamaplu\">Nama PLU</Label>\r\n                  <Input type=\"text\" name=\"tambahnamaplu\" id=\"tambahnamaplu\" value={this.state.tambahnamaplu} onChange={this.handleChange} placeholder=\"Nama PLU\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>PLU component</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"7\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangPakai\"\r\n                  value={this.state.prmBarangPakai}\r\n                  options={this.state.masterBarangPakaiList}\r\n                  onChange={this.onSelectChangedMasterBarangPakai.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"tambahqtybarangpakai\"\r\n                  id=\"tambahqtybarangpakai\"\r\n                  placeholder=\"qty\"\r\n                  value={this.state.tambahqtybarangpakai}\r\n                  onChange={this.handleChange}\r\n                  min=\"0\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.tambahsatuanbarangpakai == \"\"?\"---\":this.state.tambahsatuanbarangpakai}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataPakai()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataPakai(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Master PLU</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            \r\n            <Row style={{paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"editnomorplu\">Nomor PLU</Label>\r\n                  <Input type=\"text\" name=\"editnomorplu\" id=\"editnomorplu\" value={this.state.detailDataPLU.nomor_plu} onChange={this.handleChange} placeholder=\"Nomor PLU\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"editnamaplu\">Nama PLU</Label>\r\n                  <Input type=\"text\" name=\"editnamaplu\" id=\"editnamaplu\" value={this.state.detailDataPLU.nama_plu} onChange={this.handleChange} placeholder=\"Nama PLU\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>PLU component</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menonaktifkan master plu ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          {/* <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter> */}\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Plu List</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPLUH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterPlu));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\productin.js",["604","605","606","607","608","609","610","611","612"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\r\n\r\nclass productIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"CANCEL\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmmasterBarangList:[],\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataPOH:[],\r\n      dataPOD:[],\r\n      detailDataPO:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      tambahParameterPajak:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormPOData`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.dataVendor,\r\n        prmmasterBarangList: result.data.dataMasterBarang,\r\n        masterOutletList: result.data.dataOutlet\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:dateToForm,\r\n      tambahParameterPajak:\"\"\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      tanggalKirim: new Date(),\r\n      tambahParameterPajak:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePOH: data.kode_purchase_order_h\r\n    };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPOData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOD:result.data.dataPOD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataPO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"CANCEL\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\"\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\" || this.state.tambahhargabarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`,harga:`${this.state.tambahhargabarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterVendor = async (value) => {\r\n    await this.filterListBarang(value.value)\r\n    this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  filterListBarang = async (value) => {\r\n    let prmMasterBarangList = this.state.prmmasterBarangList\r\n    let filteredListMasterBarang = prmMasterBarangList.filter(o => o.kode_vendor === `${value}`);\r\n    await this.setState({\r\n      ...this.state,\r\n      masterBarangList:filteredListMasterBarang\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.unit,\r\n      tambahhargabarang:value.harga_barang\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      OUTLETCODE: this.state.tambahkodeoutlet,\r\n      PAJAK: this.state.tambahParameterPajak,\r\n      TANGGALPO: this.state.dateForm,\r\n      TOTALPURCHASE: this.state.totalPembelian,\r\n      USER:this.props.userinfo.id_user,\r\n      ADDDATA: this.state.listAddBarang,\r\n      TANGGALKIRIM: this.state.tanggalKirim\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Data vendor tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    } else if (this.state.tambahkodeoutlet === \"\"){\r\n      alert(\"Lokasi pengiriman tidak boleh kosong\")\r\n    } else if (this.state.tambahParameterPajak === \"\"){\r\n      alert(\"Parameter pajak tidak boleh kosong\")\r\n    }else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormPOData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/purchaseOrderPrint?ID=${result.data.id_po_h}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  datepickerHandleChange = date => {\r\n    this.setState({\r\n      ...this.state,\r\n      tanggalKirim: date\r\n    });\r\n  };\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDPO:this.state.detailDataPO.kode_purchase_order_h\r\n    };\r\n    console.log(dataToSend);\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/cancelPO`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"CANCEL\",\r\n      });\r\n      alert(\"Data purchase order berhasil di cancel\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor PO',\r\n        selector: 'nomor_po',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Total pembelian',\r\n        selector: 'jumlah_pembelian',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembuatan purchase order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat PO</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.masterVendorList}\r\n                    onChange={this.onSelectChangedMasterVendor.bind(this)}\r\n                    placeholder=\"Pilih Vendor\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Lokasi pengiriman</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih tujuan kirim\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"3\">\r\n                <FormGroup>\r\n                  <Label for=\"tambahParameterPajak\">Pajak</Label>\r\n                    <Input type=\"select\" name=\"tambahParameterPajak\" id=\"tambahParameterPajak\" value={this.state.tambahParameterPajak}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih parameter pajak</option>\r\n                      <option value=\"YES\">DENGAN PAJAK</option>\r\n                      <option value=\"NO\">TANPA PAJAK</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"3\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal kirim</Label>\r\n                  <br></br>\r\n                  <DatePicker\r\n                    selected={this.state.tanggalKirim}\r\n                    onChange={this.datepickerHandleChange}\r\n                    dateFormat=\"dd-MMMM-yyyy\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10,paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarang\"\r\n                  value={this.state.prmBarang}\r\n                  options={this.state.masterBarangList}\r\n                  onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n              <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.unit == undefined?\"---\":this.state.prmBarang.unit}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"3\">\r\n                <Input type=\"number\" name=\"tambahhargabarang\" id=\"tambahhargabarang\" value={this.state.tambahhargabarang} onChange={this.handleChange} placeholder=\"Harga perunit\" min=\"0\"/>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>UNIT</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qty}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.satuan}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.harga}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:\"3vh\",paddingBottom:\"3vh\"}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"9\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"3\">\r\n                  <Row>\r\n                      <Col>\r\n                        <span style={{fontWeight:\"bold\"}}>Total Pembelian : {this.state.totalPembelian}</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row>\r\n                      <Col>\r\n                        <span style={{fontWeight:\"bold\"}}>ppn 10% : {this.state.tambahParameterPajak == \"YES\" ? Math.round(this.state.totalPembelian*1.1-this.state.totalPembelian) : 0}</span>\r\n                      </Col>\r\n                  </Row>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail PO</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nomor_po} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal buat PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nama_vendor} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"1\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>QTY</span></Col>\r\n              <Col xs=\"1\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>SATUAN</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>HARGA</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataPOD.length > 0 && this.state.dataPOD.map((dataPOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataPOD.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>{dataPOD.qty}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>{dataPOD.unit_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\",padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>{dataPOD.harga}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:\"3vh\",paddingBottom:\"3vh\"}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                  <Row>\r\n                      <Col>\r\n                        <span style={{fontWeight:\"bold\"}}>Total Pembelian : {this.state.detailDataPO.jumlah_pembelian}</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row>\r\n                      <Col>\r\n                        <span style={{fontWeight:\"bold\"}}>ppn 10% : {this.state.detailDataPO.taxParameter == \"YES\" ? Math.round(this.state.detailDataPO.jumlah_pembelian*1.1-this.state.detailDataPO.jumlah_pembelian) : 0}</span>\r\n                      </Col>\r\n                  </Row>\r\n              </Col>\r\n            </Row>\r\n            {this.state.detailDataPO.tanggal_masuk_barang==\"\"?\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan cancel data PO ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>:\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar purchase order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPOH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productIn));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\completionplanproduksi.js",["613","614","615","616","617","618","619","620","621"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass completionPlanProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiTurunanD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormProductionPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDPRODUKSIH: data.kode_produksi_h,\r\n      PRMTURUNANPRODUKSI: data.kode_master_produksi_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getCompletionProductionPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataPakaiProduksiD,\r\n        dataProduksiHasilD:result.data.dataHasilProduksiD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiTurunanD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormProductionPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/productionPlanPrint?ID=${result.data.kodeProduksiH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  // function barang pakai produksi\r\n  // onSelectChangedMasterBarangPakai = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangPakai: value,\r\n  //     tambahkodebarangpakai:value.value,\r\n  //     tambahnamabarangpakai:value.label,\r\n  //     tambahsatuanbarangpakai:value.satuan,\r\n  //     inStok:value.qty_in_stok,\r\n  //   });\r\n  // }\r\n  // addDataPakai = async () => {\r\n  //   let qtyTambahPakai = parseInt(this.state.tambahqtybarangpakai)\r\n  //   let qtyInStok = parseInt(this.state.inStok)\r\n  //   if(this.state.tambahkodebarangpakai === \"\" || this.state.tambahqtybarangpakai === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangpakai === 0 || this.state.tambahqtybarangpakai === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else if(qtyTambahPakai > qtyInStok){\r\n  //     alert(\"Qty yang anda input melebihi stok\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangPakai\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangpakai)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataPakai = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangPakai\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangPakai: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang sisa produksi\r\n  // onSelectChangedMasterBarangSisa = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangSisa: value,\r\n  //     tambahkodebarangsisa:value.value,\r\n  //     tambahnamabarangsisa:value.label,\r\n  //     tambahsatuanbarangsisa:value.satuan,\r\n  //   });\r\n  // }\r\n  // addDataSisa = async () => {\r\n  //   if(this.state.tambahkodebarangsisa === \"\" || this.state.tambahqtybarangsisa === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangsisa === 0 || this.state.tambahqtybarangsisa === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangSisa\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,qty:`${this.state.tambahqtybarangsisa}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangsisa)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataSisa = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangSisa\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangSisa: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${parseInt(this.state.tambahqtybaranghasil)*parseInt(this.state.prmBarangHasil.qty)}`,satuan:`${this.state.tambahsatuanbaranghasil}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatahasilD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    let max_qty = daftarBarang[IdData].qty_plan\r\n    event.target.value > max_qty ? alert(\"kuantiti yang anda input melebihi qty plan\") :\r\n    daftarBarang[IdData].qty_produksi=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiPakaiD\r\n    let max_qty = daftarBarang[IdData].qty\r\n    event.target.value > max_qty ? alert(\"kuantiti yang anda input melebihi qty plan\") :\r\n    daftarBarang[IdData].qty_sisa=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiPakaiD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiTurunanD\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiTurunanD: daftarBarang\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Produksi',\r\n        selector: 'production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Produksi',\r\n        selector: 'production_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Produksi',\r\n        selector: 'satuan_production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Production plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal penyelesaian produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production per batch</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty == undefined?\"---\":this.state.prmBarangHasil.qty} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Unit</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Multiple batch by</Label>\r\n                        <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n            {/* pakai produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Raw material</h3>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                    <Row key={index} style={{color:parseInt(listAddBarangPakai.qty_in_stok) < parseInt(listAddBarangPakai.qty)?\"#FF0000\":\"#000000\"}}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                        <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_stok}</span></Col>\r\n                        <Col xs=\"2\">\r\n                        <span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span>\r\n                        </Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan_barang}</span></Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* pakai produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.nomor_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HASIL QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty_plan}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiHasilD.qty_produksi}`}\r\n                            onChange={this.handleChangeDatahasilD}\r\n                            min=\"0\"\r\n                            max={`${dataProduksiHasilD.qty_plan}`}\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SISA QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiPakaiD.qty_sisa}`}\r\n                            onChange={this.handleChangeDatapakaiD}\r\n                            min=\"0\"\r\n                            max={`${dataProduksiPakaiD.qty}`}\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Open production plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      {/* <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(completionPlanProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\planproduksi.js",["622","623","624","625","626","627","628","629","630","631"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass planProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormProductionPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDPRODUKSIH: data.kode_produksi_h\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataPakaiProduksiD,\r\n        dataProduksiHasilD:result.data.dataHasilProduksiD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\"\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormProductionPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/productionPlanPrint?ID=${result.data.kodeProduksiH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${parseInt(this.state.tambahqtybaranghasil)*parseInt(this.state.prmBarangHasil.qty)}`,satuan:`${this.state.tambahsatuanbaranghasil}`,prmMasterProduksi:`${this.state.prmBarangHasil.kode_master_produksi_h}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    if(parseInt(event.target.value) > parseInt(daftarBarang[IdData].qty_plan)){\r\n      alert(\"jumlah yang di input melebihi total plan produksi\")\r\n    } else {\r\n      daftarBarang[IdData].qty_produksi=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiPakaiD\r\n    if(parseInt(event.target.value) > parseInt(daftarBarang[IdData].qty)){\r\n      alert(\"jumlah yang di input melebihi total pemakaian produksi\")\r\n    } else {\r\n      daftarBarang[IdData].qty_sisa=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      COST:this.state.detailDataProduksi.total_cost,\r\n      IDPRODUKSIH:this.state.detailDataProduksi.kode_produksi_h,\r\n      HASILPRODUKSI:this.state.dataProduksiHasilD,\r\n      // PAKAIPRODUKSI:this.state.dataProduksiPakaiD,\r\n      USER:this.props.userinfo.id_user,\r\n    };\r\n    console.log(dataToSend);\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/productionPlanCompletion`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Selesaikan produksi ini\",\r\n      });\r\n      alert(\"Produksi ini berhasil di tutup\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Produksi',\r\n        selector: 'production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Produksi',\r\n        selector: 'production_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Produksi',\r\n        selector: 'satuan_production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Production plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pengajuan rencana produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production per batch</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty == undefined?\"---\":this.state.prmBarangHasil.qty} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Satuan</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Multiple batch by</Label>\r\n                        <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n            {/* pakai produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Raw material</h3>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                    <Row key={index} style={{color:parseInt(listAddBarangPakai.qty_in_stok) < parseInt(listAddBarangPakai.qty)?\"#FF0000\":\"#000000\"}}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                        <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_stok}</span></Col>\r\n                        <Col xs=\"2\">\r\n                        <span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span>\r\n                        </Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan_barang}</span></Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* pakai produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.nomor_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PRODUCE QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty_plan}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiHasilD.qty_produksi}`}\r\n                            onChange={this.handleChangeDatapakaiD}\r\n                            min=\"0\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY PAKAI</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n                {/* <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY PAKAI</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY SISA</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row> */}\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n                {/* {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiPakaiD.qty_sisa}`}\r\n                            onChange={this.handleChangeDataSisaD}\r\n                            min=\"0\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )} */}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menyelesaikan proses ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Production plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(planProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\redux\\reducers\\index.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroup\\src\\pages\\dummyData.js",[],{"ruleId":"632","replacedBy":"633"},{"ruleId":"634","replacedBy":"635"},{"ruleId":"636","severity":1,"message":"637","line":12,"column":8,"nodeType":"638","messageId":"639","endLine":12,"endColumn":18},{"ruleId":"636","severity":1,"message":"640","line":16,"column":8,"nodeType":"638","messageId":"639","endLine":16,"endColumn":21},{"ruleId":"636","severity":1,"message":"641","line":27,"column":8,"nodeType":"638","messageId":"639","endLine":27,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":16,"column":10,"nodeType":"638","messageId":"639","endLine":16,"endColumn":20},{"ruleId":"643","severity":1,"message":"644","line":89,"column":58,"nodeType":"645","messageId":"646","endLine":89,"endColumn":60},{"ruleId":"643","severity":1,"message":"644","line":97,"column":52,"nodeType":"645","messageId":"646","endLine":97,"endColumn":54},{"ruleId":"636","severity":1,"message":"647","line":1,"column":27,"nodeType":"638","messageId":"639","endLine":1,"endColumn":35},{"ruleId":"643","severity":1,"message":"644","line":32,"column":20,"nodeType":"645","messageId":"646","endLine":32,"endColumn":22},{"ruleId":"643","severity":1,"message":"644","line":82,"column":77,"nodeType":"645","messageId":"646","endLine":82,"endColumn":79},{"ruleId":"643","severity":1,"message":"644","line":87,"column":77,"nodeType":"645","messageId":"646","endLine":87,"endColumn":79},{"ruleId":"643","severity":1,"message":"644","line":93,"column":96,"nodeType":"645","messageId":"646","endLine":93,"endColumn":98},{"ruleId":"643","severity":1,"message":"644","line":93,"column":151,"nodeType":"645","messageId":"646","endLine":93,"endColumn":153},{"ruleId":"643","severity":1,"message":"644","line":93,"column":206,"nodeType":"645","messageId":"646","endLine":93,"endColumn":208},{"ruleId":"643","severity":1,"message":"644","line":93,"column":261,"nodeType":"645","messageId":"646","endLine":93,"endColumn":263},{"ruleId":"643","severity":1,"message":"644","line":93,"column":327,"nodeType":"645","messageId":"646","endLine":93,"endColumn":329},{"ruleId":"643","severity":1,"message":"644","line":93,"column":384,"nodeType":"645","messageId":"646","endLine":93,"endColumn":386},{"ruleId":"643","severity":1,"message":"644","line":153,"column":114,"nodeType":"645","messageId":"646","endLine":153,"endColumn":116},{"ruleId":"643","severity":1,"message":"644","line":198,"column":88,"nodeType":"645","messageId":"646","endLine":198,"endColumn":90},{"ruleId":"636","severity":1,"message":"648","line":2,"column":8,"nodeType":"638","messageId":"639","endLine":2,"endColumn":13},{"ruleId":"636","severity":1,"message":"649","line":4,"column":10,"nodeType":"638","messageId":"639","endLine":4,"endColumn":19},{"ruleId":"636","severity":1,"message":"650","line":10,"column":3,"nodeType":"638","messageId":"639","endLine":10,"endColumn":12},{"ruleId":"636","severity":1,"message":"651","line":11,"column":3,"nodeType":"638","messageId":"639","endLine":11,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":12,"column":3,"nodeType":"638","messageId":"639","endLine":12,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"656","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":6},{"ruleId":"636","severity":1,"message":"657","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":6},{"ruleId":"636","severity":1,"message":"658","line":5,"column":8,"nodeType":"638","messageId":"639","endLine":5,"endColumn":13},{"ruleId":"636","severity":1,"message":"651","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":14},{"ruleId":"636","severity":1,"message":"637","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":27},{"ruleId":"636","severity":1,"message":"661","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"663","severity":1,"message":"664","line":140,"column":84,"nodeType":"665","messageId":"646","endLine":140,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":141,"column":84,"nodeType":"665","messageId":"646","endLine":141,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":142,"column":84,"nodeType":"665","messageId":"646","endLine":142,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":143,"column":84,"nodeType":"665","messageId":"646","endLine":143,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":147,"column":80,"nodeType":"645","messageId":"646","endLine":147,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":148,"column":80,"nodeType":"645","messageId":"646","endLine":148,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":149,"column":80,"nodeType":"645","messageId":"646","endLine":149,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":150,"column":80,"nodeType":"645","messageId":"646","endLine":150,"endColumn":82},{"ruleId":"663","severity":1,"message":"664","line":162,"column":82,"nodeType":"665","messageId":"646","endLine":162,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":163,"column":82,"nodeType":"665","messageId":"646","endLine":163,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":170,"column":82,"nodeType":"665","messageId":"646","endLine":170,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":171,"column":82,"nodeType":"665","messageId":"646","endLine":171,"endColumn":89},{"ruleId":"636","severity":1,"message":"658","line":5,"column":8,"nodeType":"638","messageId":"639","endLine":5,"endColumn":13},{"ruleId":"636","severity":1,"message":"651","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":14},{"ruleId":"636","severity":1,"message":"637","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":27},{"ruleId":"636","severity":1,"message":"661","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"663","severity":1,"message":"664","line":156,"column":84,"nodeType":"665","messageId":"646","endLine":156,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":157,"column":84,"nodeType":"665","messageId":"646","endLine":157,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":158,"column":84,"nodeType":"665","messageId":"646","endLine":158,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":159,"column":84,"nodeType":"665","messageId":"646","endLine":159,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":163,"column":80,"nodeType":"645","messageId":"646","endLine":163,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":164,"column":80,"nodeType":"645","messageId":"646","endLine":164,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":165,"column":80,"nodeType":"645","messageId":"646","endLine":165,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":166,"column":80,"nodeType":"645","messageId":"646","endLine":166,"endColumn":82},{"ruleId":"663","severity":1,"message":"664","line":178,"column":82,"nodeType":"665","messageId":"646","endLine":178,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":179,"column":82,"nodeType":"665","messageId":"646","endLine":179,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":186,"column":82,"nodeType":"665","messageId":"646","endLine":186,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":187,"column":82,"nodeType":"665","messageId":"646","endLine":187,"endColumn":89},{"ruleId":"636","severity":1,"message":"658","line":5,"column":8,"nodeType":"638","messageId":"639","endLine":5,"endColumn":13},{"ruleId":"636","severity":1,"message":"651","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":14},{"ruleId":"636","severity":1,"message":"637","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":27},{"ruleId":"636","severity":1,"message":"661","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"663","severity":1,"message":"664","line":200,"column":84,"nodeType":"665","messageId":"646","endLine":200,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":201,"column":84,"nodeType":"665","messageId":"646","endLine":201,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":202,"column":84,"nodeType":"665","messageId":"646","endLine":202,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":203,"column":84,"nodeType":"665","messageId":"646","endLine":203,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":204,"column":84,"nodeType":"665","messageId":"646","endLine":204,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":208,"column":80,"nodeType":"645","messageId":"646","endLine":208,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":209,"column":80,"nodeType":"645","messageId":"646","endLine":209,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":210,"column":80,"nodeType":"645","messageId":"646","endLine":210,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":211,"column":80,"nodeType":"645","messageId":"646","endLine":211,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":212,"column":80,"nodeType":"645","messageId":"646","endLine":212,"endColumn":82},{"ruleId":"663","severity":1,"message":"664","line":220,"column":82,"nodeType":"665","messageId":"646","endLine":220,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":221,"column":82,"nodeType":"665","messageId":"646","endLine":221,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":222,"column":82,"nodeType":"665","messageId":"646","endLine":222,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":225,"column":82,"nodeType":"665","messageId":"646","endLine":225,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":226,"column":82,"nodeType":"665","messageId":"646","endLine":226,"endColumn":89},{"ruleId":"643","severity":1,"message":"644","line":228,"column":79,"nodeType":"645","messageId":"646","endLine":228,"endColumn":81},{"ruleId":"663","severity":1,"message":"664","line":231,"column":82,"nodeType":"665","messageId":"646","endLine":231,"endColumn":89},{"ruleId":"643","severity":1,"message":"644","line":233,"column":79,"nodeType":"645","messageId":"646","endLine":233,"endColumn":81},{"ruleId":"663","severity":1,"message":"664","line":238,"column":82,"nodeType":"665","messageId":"646","endLine":238,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":239,"column":82,"nodeType":"665","messageId":"646","endLine":239,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":242,"column":82,"nodeType":"665","messageId":"646","endLine":242,"endColumn":89},{"ruleId":"643","severity":1,"message":"644","line":244,"column":79,"nodeType":"645","messageId":"646","endLine":244,"endColumn":81},{"ruleId":"663","severity":1,"message":"664","line":257,"column":82,"nodeType":"665","messageId":"646","endLine":257,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":258,"column":82,"nodeType":"665","messageId":"646","endLine":258,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":265,"column":82,"nodeType":"665","messageId":"646","endLine":265,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":266,"column":82,"nodeType":"665","messageId":"646","endLine":266,"endColumn":89},{"ruleId":"636","severity":1,"message":"658","line":5,"column":8,"nodeType":"638","messageId":"639","endLine":5,"endColumn":13},{"ruleId":"636","severity":1,"message":"651","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":14},{"ruleId":"636","severity":1,"message":"637","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":27},{"ruleId":"636","severity":1,"message":"661","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"663","severity":1,"message":"664","line":156,"column":84,"nodeType":"665","messageId":"646","endLine":156,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":157,"column":84,"nodeType":"665","messageId":"646","endLine":157,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":158,"column":84,"nodeType":"665","messageId":"646","endLine":158,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":162,"column":80,"nodeType":"645","messageId":"646","endLine":162,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":163,"column":80,"nodeType":"645","messageId":"646","endLine":163,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":164,"column":80,"nodeType":"645","messageId":"646","endLine":164,"endColumn":82},{"ruleId":"663","severity":1,"message":"664","line":176,"column":82,"nodeType":"665","messageId":"646","endLine":176,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":177,"column":82,"nodeType":"665","messageId":"646","endLine":177,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":184,"column":82,"nodeType":"665","messageId":"646","endLine":184,"endColumn":89},{"ruleId":"663","severity":1,"message":"664","line":185,"column":82,"nodeType":"665","messageId":"646","endLine":185,"endColumn":89},{"ruleId":"636","severity":1,"message":"658","line":5,"column":8,"nodeType":"638","messageId":"639","endLine":5,"endColumn":13},{"ruleId":"636","severity":1,"message":"651","line":13,"column":3,"nodeType":"638","messageId":"639","endLine":13,"endColumn":9},{"ruleId":"636","severity":1,"message":"652","line":14,"column":3,"nodeType":"638","messageId":"639","endLine":14,"endColumn":8},{"ruleId":"636","severity":1,"message":"653","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"654","line":16,"column":3,"nodeType":"638","messageId":"639","endLine":16,"endColumn":12},{"ruleId":"636","severity":1,"message":"655","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":14},{"ruleId":"636","severity":1,"message":"637","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":27},{"ruleId":"636","severity":1,"message":"661","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"663","severity":1,"message":"664","line":138,"column":84,"nodeType":"665","messageId":"646","endLine":138,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":139,"column":84,"nodeType":"665","messageId":"646","endLine":139,"endColumn":91},{"ruleId":"663","severity":1,"message":"664","line":140,"column":84,"nodeType":"665","messageId":"646","endLine":140,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":144,"column":80,"nodeType":"645","messageId":"646","endLine":144,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":145,"column":80,"nodeType":"645","messageId":"646","endLine":145,"endColumn":82},{"ruleId":"643","severity":1,"message":"644","line":146,"column":80,"nodeType":"645","messageId":"646","endLine":146,"endColumn":82},{"ruleId":"636","severity":1,"message":"658","line":3,"column":8,"nodeType":"638","messageId":"639","endLine":3,"endColumn":13},{"ruleId":"636","severity":1,"message":"637","line":14,"column":8,"nodeType":"638","messageId":"639","endLine":14,"endColumn":18},{"ruleId":"636","severity":1,"message":"662","line":44,"column":9,"nodeType":"638","messageId":"639","endLine":44,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":72,"column":9,"nodeType":"638","messageId":"639","endLine":72,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":185,"column":37,"nodeType":"645","messageId":"646","endLine":185,"endColumn":39},{"ruleId":"643","severity":1,"message":"644","line":225,"column":37,"nodeType":"645","messageId":"646","endLine":225,"endColumn":39},{"ruleId":"636","severity":1,"message":"666","line":18,"column":3,"nodeType":"638","messageId":"639","endLine":18,"endColumn":18},{"ruleId":"636","severity":1,"message":"667","line":19,"column":3,"nodeType":"638","messageId":"639","endLine":19,"endColumn":13},{"ruleId":"636","severity":1,"message":"668","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":14},{"ruleId":"636","severity":1,"message":"662","line":65,"column":9,"nodeType":"638","messageId":"639","endLine":65,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":84,"column":9,"nodeType":"638","messageId":"639","endLine":84,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":157,"column":9,"nodeType":"638","messageId":"639","endLine":157,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":84,"column":9,"nodeType":"638","messageId":"639","endLine":84,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":103,"column":9,"nodeType":"638","messageId":"639","endLine":103,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":122,"column":9,"nodeType":"638","messageId":"639","endLine":122,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":206,"column":9,"nodeType":"638","messageId":"639","endLine":206,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":322,"column":13,"nodeType":"638","messageId":"639","endLine":322,"endColumn":21},{"ruleId":"636","severity":1,"message":"662","line":356,"column":13,"nodeType":"638","messageId":"639","endLine":356,"endColumn":21},{"ruleId":"636","severity":1,"message":"669","line":389,"column":9,"nodeType":"638","messageId":"639","endLine":389,"endColumn":16},{"ruleId":"636","severity":1,"message":"668","line":22,"column":8,"nodeType":"638","messageId":"639","endLine":22,"endColumn":14},{"ruleId":"636","severity":1,"message":"662","line":59,"column":9,"nodeType":"638","messageId":"639","endLine":59,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":78,"column":9,"nodeType":"638","messageId":"639","endLine":78,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":151,"column":9,"nodeType":"638","messageId":"639","endLine":151,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":91,"column":9,"nodeType":"638","messageId":"639","endLine":91,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":110,"column":9,"nodeType":"638","messageId":"639","endLine":110,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":129,"column":9,"nodeType":"638","messageId":"639","endLine":129,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":213,"column":9,"nodeType":"638","messageId":"639","endLine":213,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":255,"column":30,"nodeType":"645","messageId":"646","endLine":255,"endColumn":32},{"ruleId":"636","severity":1,"message":"662","line":274,"column":9,"nodeType":"638","messageId":"639","endLine":274,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":370,"column":13,"nodeType":"638","messageId":"639","endLine":370,"endColumn":21},{"ruleId":"643","severity":1,"message":"644","line":445,"column":41,"nodeType":"645","messageId":"646","endLine":445,"endColumn":43},{"ruleId":"643","severity":1,"message":"644","line":446,"column":60,"nodeType":"645","messageId":"646","endLine":446,"endColumn":62},{"ruleId":"643","severity":1,"message":"644","line":461,"column":58,"nodeType":"645","messageId":"646","endLine":461,"endColumn":60},{"ruleId":"643","severity":1,"message":"644","line":462,"column":45,"nodeType":"645","messageId":"646","endLine":462,"endColumn":47},{"ruleId":"643","severity":1,"message":"644","line":564,"column":89,"nodeType":"645","messageId":"646","endLine":564,"endColumn":91},{"ruleId":"643","severity":1,"message":"644","line":585,"column":84,"nodeType":"645","messageId":"646","endLine":585,"endColumn":86},{"ruleId":"643","severity":1,"message":"644","line":633,"column":108,"nodeType":"645","messageId":"646","endLine":633,"endColumn":110},{"ruleId":"636","severity":1,"message":"670","line":17,"column":3,"nodeType":"638","messageId":"639","endLine":17,"endColumn":12},{"ruleId":"636","severity":1,"message":"671","line":18,"column":3,"nodeType":"638","messageId":"639","endLine":18,"endColumn":8},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":101,"column":9,"nodeType":"638","messageId":"639","endLine":101,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":120,"column":9,"nodeType":"638","messageId":"639","endLine":120,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":139,"column":9,"nodeType":"638","messageId":"639","endLine":139,"endColumn":17},{"ruleId":"663","severity":1,"message":"672","line":168,"column":7,"nodeType":"665","messageId":"646","endLine":168,"endColumn":27},{"ruleId":"663","severity":1,"message":"673","line":196,"column":7,"nodeType":"665","messageId":"646","endLine":196,"endColumn":28},{"ruleId":"636","severity":1,"message":"662","line":225,"column":9,"nodeType":"638","messageId":"639","endLine":225,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":300,"column":13,"nodeType":"638","messageId":"639","endLine":300,"endColumn":21},{"ruleId":"643","severity":1,"message":"644","line":347,"column":47,"nodeType":"645","messageId":"646","endLine":347,"endColumn":49},{"ruleId":"636","severity":1,"message":"674","line":351,"column":11,"nodeType":"638","messageId":"639","endLine":351,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":658,"column":9,"nodeType":"638","messageId":"639","endLine":658,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":685,"column":9,"nodeType":"638","messageId":"639","endLine":685,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":780,"column":87,"nodeType":"645","messageId":"646","endLine":780,"endColumn":89},{"ruleId":"643","severity":1,"message":"644","line":848,"column":87,"nodeType":"645","messageId":"646","endLine":848,"endColumn":89},{"ruleId":"636","severity":1,"message":"671","line":18,"column":3,"nodeType":"638","messageId":"639","endLine":18,"endColumn":8},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":101,"column":9,"nodeType":"638","messageId":"639","endLine":101,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":120,"column":9,"nodeType":"638","messageId":"639","endLine":120,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":139,"column":9,"nodeType":"638","messageId":"639","endLine":139,"endColumn":17},{"ruleId":"663","severity":1,"message":"673","line":195,"column":7,"nodeType":"665","messageId":"646","endLine":195,"endColumn":28},{"ruleId":"636","severity":1,"message":"662","line":224,"column":9,"nodeType":"638","messageId":"639","endLine":224,"endColumn":17},{"ruleId":"663","severity":1,"message":"675","line":273,"column":7,"nodeType":"665","messageId":"646","endLine":273,"endColumn":20},{"ruleId":"663","severity":1,"message":"676","line":274,"column":7,"nodeType":"665","messageId":"646","endLine":274,"endColumn":21},{"ruleId":"636","severity":1,"message":"662","line":300,"column":13,"nodeType":"638","messageId":"639","endLine":300,"endColumn":21},{"ruleId":"636","severity":1,"message":"662","line":525,"column":9,"nodeType":"638","messageId":"639","endLine":525,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":550,"column":9,"nodeType":"638","messageId":"639","endLine":550,"endColumn":17},{"ruleId":"636","severity":1,"message":"677","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":22,"column":10,"nodeType":"638","messageId":"639","endLine":22,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":65,"column":9,"nodeType":"638","messageId":"639","endLine":65,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":84,"column":9,"nodeType":"638","messageId":"639","endLine":84,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":99,"column":9,"nodeType":"638","messageId":"639","endLine":99,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":146,"column":9,"nodeType":"638","messageId":"639","endLine":146,"endColumn":17},{"ruleId":"636","severity":1,"message":"678","line":3,"column":8,"nodeType":"638","messageId":"639","endLine":3,"endColumn":14},{"ruleId":"636","severity":1,"message":"651","line":11,"column":3,"nodeType":"638","messageId":"639","endLine":11,"endColumn":9},{"ruleId":"636","severity":1,"message":"655","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"668","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":14},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"679","line":24,"column":23,"nodeType":"638","messageId":"639","endLine":24,"endColumn":34},{"ruleId":"636","severity":1,"message":"662","line":85,"column":9,"nodeType":"638","messageId":"639","endLine":85,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":103,"column":9,"nodeType":"638","messageId":"639","endLine":103,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":170,"column":41,"nodeType":"645","messageId":"646","endLine":170,"endColumn":43},{"ruleId":"643","severity":1,"message":"644","line":171,"column":59,"nodeType":"645","messageId":"646","endLine":171,"endColumn":61},{"ruleId":"643","severity":1,"message":"644","line":186,"column":58,"nodeType":"645","messageId":"646","endLine":186,"endColumn":60},{"ruleId":"643","severity":1,"message":"644","line":187,"column":45,"nodeType":"645","messageId":"646","endLine":187,"endColumn":47},{"ruleId":"636","severity":1,"message":"677","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":70,"column":9,"nodeType":"638","messageId":"639","endLine":70,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":89,"column":9,"nodeType":"638","messageId":"639","endLine":89,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":115,"column":9,"nodeType":"638","messageId":"639","endLine":115,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":238,"column":9,"nodeType":"638","messageId":"639","endLine":238,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":302,"column":54,"nodeType":"645","messageId":"646","endLine":302,"endColumn":56},{"ruleId":"643","severity":1,"message":"644","line":310,"column":46,"nodeType":"645","messageId":"646","endLine":310,"endColumn":48},{"ruleId":"643","severity":1,"message":"644","line":354,"column":65,"nodeType":"645","messageId":"646","endLine":354,"endColumn":67},{"ruleId":"643","severity":1,"message":"644","line":356,"column":130,"nodeType":"645","messageId":"646","endLine":356,"endColumn":132},{"ruleId":"643","severity":1,"message":"644","line":417,"column":63,"nodeType":"645","messageId":"646","endLine":417,"endColumn":65},{"ruleId":"643","severity":1,"message":"644","line":419,"column":128,"nodeType":"645","messageId":"646","endLine":419,"endColumn":130},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":74,"column":9,"nodeType":"638","messageId":"639","endLine":74,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":101,"column":9,"nodeType":"638","messageId":"639","endLine":101,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":128,"column":9,"nodeType":"638","messageId":"639","endLine":128,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":185,"column":9,"nodeType":"638","messageId":"639","endLine":185,"endColumn":17},{"ruleId":"663","severity":1,"message":"675","line":216,"column":7,"nodeType":"665","messageId":"646","endLine":216,"endColumn":20},{"ruleId":"663","severity":1,"message":"676","line":217,"column":7,"nodeType":"665","messageId":"646","endLine":217,"endColumn":21},{"ruleId":"643","severity":1,"message":"644","line":223,"column":42,"nodeType":"645","messageId":"646","endLine":223,"endColumn":44},{"ruleId":"643","severity":1,"message":"644","line":225,"column":44,"nodeType":"645","messageId":"646","endLine":225,"endColumn":46},{"ruleId":"643","severity":1,"message":"644","line":225,"column":81,"nodeType":"645","messageId":"646","endLine":225,"endColumn":83},{"ruleId":"643","severity":1,"message":"644","line":348,"column":39,"nodeType":"645","messageId":"646","endLine":348,"endColumn":41},{"ruleId":"643","severity":1,"message":"644","line":349,"column":55,"nodeType":"645","messageId":"646","endLine":349,"endColumn":57},{"ruleId":"643","severity":1,"message":"644","line":362,"column":53,"nodeType":"645","messageId":"646","endLine":362,"endColumn":55},{"ruleId":"643","severity":1,"message":"644","line":363,"column":43,"nodeType":"645","messageId":"646","endLine":363,"endColumn":45},{"ruleId":"636","severity":1,"message":"662","line":385,"column":9,"nodeType":"638","messageId":"639","endLine":385,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":482,"column":64,"nodeType":"645","messageId":"646","endLine":482,"endColumn":66},{"ruleId":"643","severity":1,"message":"644","line":484,"column":98,"nodeType":"645","messageId":"646","endLine":484,"endColumn":100},{"ruleId":"643","severity":1,"message":"644","line":491,"column":64,"nodeType":"645","messageId":"646","endLine":491,"endColumn":66},{"ruleId":"643","severity":1,"message":"644","line":493,"column":100,"nodeType":"645","messageId":"646","endLine":493,"endColumn":102},{"ruleId":"643","severity":1,"message":"644","line":590,"column":55,"nodeType":"645","messageId":"646","endLine":590,"endColumn":57},{"ruleId":"636","severity":1,"message":"678","line":3,"column":8,"nodeType":"638","messageId":"639","endLine":3,"endColumn":14},{"ruleId":"636","severity":1,"message":"655","line":15,"column":3,"nodeType":"638","messageId":"639","endLine":15,"endColumn":14},{"ruleId":"636","severity":1,"message":"668","line":20,"column":8,"nodeType":"638","messageId":"639","endLine":20,"endColumn":14},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":70,"column":9,"nodeType":"638","messageId":"639","endLine":70,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":97,"column":9,"nodeType":"638","messageId":"639","endLine":97,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":119,"column":9,"nodeType":"638","messageId":"639","endLine":119,"endColumn":17},{"ruleId":"663","severity":1,"message":"675","line":152,"column":7,"nodeType":"665","messageId":"646","endLine":152,"endColumn":20},{"ruleId":"663","severity":1,"message":"676","line":153,"column":7,"nodeType":"665","messageId":"646","endLine":153,"endColumn":21},{"ruleId":"636","severity":1,"message":"662","line":200,"column":9,"nodeType":"638","messageId":"639","endLine":200,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":229,"column":9,"nodeType":"638","messageId":"639","endLine":229,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":326,"column":64,"nodeType":"645","messageId":"646","endLine":326,"endColumn":66},{"ruleId":"643","severity":1,"message":"644","line":363,"column":62,"nodeType":"645","messageId":"646","endLine":363,"endColumn":64},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"680","line":24,"column":8,"nodeType":"638","messageId":"639","endLine":24,"endColumn":18},{"ruleId":"636","severity":1,"message":"662","line":78,"column":9,"nodeType":"638","messageId":"639","endLine":78,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":105,"column":9,"nodeType":"638","messageId":"639","endLine":105,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":132,"column":9,"nodeType":"638","messageId":"639","endLine":132,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":200,"column":9,"nodeType":"638","messageId":"639","endLine":200,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":507,"column":87,"nodeType":"645","messageId":"646","endLine":507,"endColumn":89},{"ruleId":"643","severity":1,"message":"644","line":528,"column":82,"nodeType":"645","messageId":"646","endLine":528,"endColumn":84},{"ruleId":"643","severity":1,"message":"644","line":614,"column":64,"nodeType":"645","messageId":"646","endLine":614,"endColumn":66},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":62,"column":9,"nodeType":"638","messageId":"639","endLine":62,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":81,"column":9,"nodeType":"638","messageId":"639","endLine":81,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":100,"column":9,"nodeType":"638","messageId":"639","endLine":100,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":149,"column":9,"nodeType":"638","messageId":"639","endLine":149,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":66,"column":9,"nodeType":"638","messageId":"639","endLine":66,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":85,"column":9,"nodeType":"638","messageId":"639","endLine":85,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":104,"column":9,"nodeType":"638","messageId":"639","endLine":104,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":154,"column":9,"nodeType":"638","messageId":"639","endLine":154,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":289,"column":9,"nodeType":"638","messageId":"639","endLine":289,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":342,"column":38,"nodeType":"645","messageId":"646","endLine":342,"endColumn":40},{"ruleId":"643","severity":1,"message":"644","line":343,"column":58,"nodeType":"645","messageId":"646","endLine":343,"endColumn":60},{"ruleId":"643","severity":1,"message":"644","line":363,"column":56,"nodeType":"645","messageId":"646","endLine":363,"endColumn":58},{"ruleId":"643","severity":1,"message":"644","line":364,"column":42,"nodeType":"645","messageId":"646","endLine":364,"endColumn":44},{"ruleId":"636","severity":1,"message":"648","line":2,"column":8,"nodeType":"638","messageId":"639","endLine":2,"endColumn":13},{"ruleId":"636","severity":1,"message":"658","line":3,"column":8,"nodeType":"638","messageId":"639","endLine":3,"endColumn":13},{"ruleId":"636","severity":1,"message":"637","line":19,"column":8,"nodeType":"638","messageId":"639","endLine":19,"endColumn":18},{"ruleId":"636","severity":1,"message":"659","line":20,"column":8,"nodeType":"638","messageId":"639","endLine":20,"endColumn":17},{"ruleId":"636","severity":1,"message":"660","line":21,"column":8,"nodeType":"638","messageId":"639","endLine":21,"endColumn":27},{"ruleId":"636","severity":1,"message":"677","line":23,"column":8,"nodeType":"638","messageId":"639","endLine":23,"endColumn":17},{"ruleId":"636","severity":1,"message":"642","line":24,"column":10,"nodeType":"638","messageId":"639","endLine":24,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":70,"column":9,"nodeType":"638","messageId":"639","endLine":70,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":89,"column":9,"nodeType":"638","messageId":"639","endLine":89,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":237,"column":9,"nodeType":"638","messageId":"639","endLine":237,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":301,"column":54,"nodeType":"645","messageId":"646","endLine":301,"endColumn":56},{"ruleId":"643","severity":1,"message":"644","line":309,"column":46,"nodeType":"645","messageId":"646","endLine":309,"endColumn":48},{"ruleId":"643","severity":1,"message":"644","line":353,"column":65,"nodeType":"645","messageId":"646","endLine":353,"endColumn":67},{"ruleId":"643","severity":1,"message":"644","line":355,"column":130,"nodeType":"645","messageId":"646","endLine":355,"endColumn":132},{"ruleId":"643","severity":1,"message":"644","line":416,"column":63,"nodeType":"645","messageId":"646","endLine":416,"endColumn":65},{"ruleId":"643","severity":1,"message":"644","line":418,"column":128,"nodeType":"645","messageId":"646","endLine":418,"endColumn":130},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":101,"column":9,"nodeType":"638","messageId":"639","endLine":101,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":120,"column":9,"nodeType":"638","messageId":"639","endLine":120,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":139,"column":9,"nodeType":"638","messageId":"639","endLine":139,"endColumn":17},{"ruleId":"663","severity":1,"message":"672","line":168,"column":7,"nodeType":"665","messageId":"646","endLine":168,"endColumn":27},{"ruleId":"663","severity":1,"message":"673","line":196,"column":7,"nodeType":"665","messageId":"646","endLine":196,"endColumn":28},{"ruleId":"636","severity":1,"message":"662","line":225,"column":9,"nodeType":"638","messageId":"639","endLine":225,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":288,"column":34,"nodeType":"645","messageId":"646","endLine":288,"endColumn":36},{"ruleId":"636","severity":1,"message":"662","line":299,"column":13,"nodeType":"638","messageId":"639","endLine":299,"endColumn":21},{"ruleId":"643","severity":1,"message":"644","line":335,"column":47,"nodeType":"645","messageId":"646","endLine":335,"endColumn":49},{"ruleId":"636","severity":1,"message":"674","line":339,"column":11,"nodeType":"638","messageId":"639","endLine":339,"endColumn":24},{"ruleId":"636","severity":1,"message":"662","line":646,"column":9,"nodeType":"638","messageId":"639","endLine":646,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":673,"column":9,"nodeType":"638","messageId":"639","endLine":673,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":765,"column":87,"nodeType":"645","messageId":"646","endLine":765,"endColumn":89},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":76,"column":9,"nodeType":"638","messageId":"639","endLine":76,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":95,"column":9,"nodeType":"638","messageId":"639","endLine":95,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":114,"column":9,"nodeType":"638","messageId":"639","endLine":114,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":382,"column":9,"nodeType":"638","messageId":"639","endLine":382,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":521,"column":76,"nodeType":"645","messageId":"646","endLine":521,"endColumn":78},{"ruleId":"643","severity":1,"message":"644","line":571,"column":102,"nodeType":"645","messageId":"646","endLine":571,"endColumn":104},{"ruleId":"643","severity":1,"message":"644","line":650,"column":107,"nodeType":"645","messageId":"646","endLine":650,"endColumn":109},{"ruleId":"643","severity":1,"message":"644","line":655,"column":58,"nodeType":"645","messageId":"646","endLine":655,"endColumn":60},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":85,"column":9,"nodeType":"638","messageId":"639","endLine":85,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":104,"column":9,"nodeType":"638","messageId":"639","endLine":104,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":123,"column":9,"nodeType":"638","messageId":"639","endLine":123,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":207,"column":9,"nodeType":"638","messageId":"639","endLine":207,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":431,"column":13,"nodeType":"638","messageId":"639","endLine":431,"endColumn":21},{"ruleId":"643","severity":1,"message":"644","line":616,"column":81,"nodeType":"645","messageId":"646","endLine":616,"endColumn":83},{"ruleId":"643","severity":1,"message":"644","line":622,"column":84,"nodeType":"645","messageId":"646","endLine":622,"endColumn":86},{"ruleId":"643","severity":1,"message":"644","line":711,"column":108,"nodeType":"645","messageId":"646","endLine":711,"endColumn":110},{"ruleId":"636","severity":1,"message":"642","line":21,"column":10,"nodeType":"638","messageId":"639","endLine":21,"endColumn":20},{"ruleId":"636","severity":1,"message":"662","line":88,"column":9,"nodeType":"638","messageId":"639","endLine":88,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":107,"column":9,"nodeType":"638","messageId":"639","endLine":107,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":126,"column":9,"nodeType":"638","messageId":"639","endLine":126,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":209,"column":9,"nodeType":"638","messageId":"639","endLine":209,"endColumn":17},{"ruleId":"636","severity":1,"message":"662","line":319,"column":13,"nodeType":"638","messageId":"639","endLine":319,"endColumn":21},{"ruleId":"636","severity":1,"message":"662","line":411,"column":9,"nodeType":"638","messageId":"639","endLine":411,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":527,"column":81,"nodeType":"645","messageId":"646","endLine":527,"endColumn":83},{"ruleId":"643","severity":1,"message":"644","line":533,"column":84,"nodeType":"645","messageId":"646","endLine":533,"endColumn":86},{"ruleId":"643","severity":1,"message":"644","line":622,"column":108,"nodeType":"645","messageId":"646","endLine":622,"endColumn":110},"no-native-reassign",["681"],"no-negated-in-lhs",["682"],"no-unused-vars","'Navbarpage' is defined but never used.","Identifier","unusedVar","'InventoryPage' is defined but never used.","'OrderPage' is defined but never used.","'HashLoader' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useState' is defined but never used.","'axios' is defined but never used.","'autoTable' is defined but never used.","'Container' is defined but never used.","'Button' is defined but never used.","'Modal' is defined but never used.","'ModalHeader' is defined but never used.","'ModalBody' is defined but never used.","'ModalFooter' is defined but never used.","'Row' is defined but never used.","'Col' is defined but never used.","'jsPDF' is defined but never used.","'DataTable' is defined but never used.","'DataTableExtensions' is defined but never used.","'dataProductDummy' is defined but never used.","'APIroute' is assigned a value but never used.","no-dupe-keys","Duplicate key 'display'.","ObjectExpression","'InputGroupAddon' is defined but never used.","'InputGroup' is defined but never used.","'Select' is defined but never used.","'maxSend' is assigned a value but never used.","'FormGroup' is defined but never used.","'Label' is defined but never used.","Duplicate key 'tambahqtybarangpakai'.","Duplicate key 'masterBarangPakaiList'.","'resultChecked' is assigned a value but never used.","Duplicate key 'buttonEditPrm'.","Duplicate key 'buttonEditText'.","'dataDummy' is defined but never used.","'moment' is defined but never used.","'ScaleLoader' is defined but never used.","'DatePicker' is defined but never used.","no-global-assign","no-unsafe-negation"]